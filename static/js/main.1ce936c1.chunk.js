(this["webpackJsonpkage-editor"]=this["webpackJsonpkage-editor"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(2),c=n.n(r),o=n(18),i=n.n(o),l=n(4),s=n(23),u=n(24),p=function(e){switch(e){case 0:case 1:case 9:return 7;case 2:case 3:case 4:return 9;case 6:case 7:case 99:return 11;default:return 0}},d=function(e){var t=e.value.map((function(e){return Math.round(e)}));return 99===t[0]&&(t[7]=e.partName||""),t.join(":")},h=function(e){return e.split(/[$\r\n]+/).map((function(e){return function(e){for(var t=e.split(":"),n=+t[0],a=p(n),r=[],c=0;c<a;c++)r.push(Math.floor(+t[c]||0));return 99===r[0]?{value:r,partName:t[7]||""}:{value:r}}(e)})).filter((function(e){return 0!==(t=e).value.length&&(0!==t.value[0]||97===t.value[1]||98===t.value[1]||99===t.value[1]);var t}))},v=function(e){return e.map((function(e){return d(e)})).join("$")},f=new URLSearchParams(window.location.hash.slice(1)),b=f.get("host"),j="false"!==f.get("ssl"),y=f.get("name"),O=f.get("related")||"u3013",g=f.get("edittime"),m=f.get("data")||"",x=f.get("summary")||"",k=["glyphwiki.org","en.glyphwiki.org","ko.glyphwiki.org","zhs.glyphwiki.org","zht.glyphwiki.org","non-ssl.glyphwiki.org"];if(!b&&document.referrer)try{var M=new URL(document.referrer);k.includes(M.host)&&(b=M.host,j="https:"===M.protocol)}catch(on){}b&&k.includes(b)||(b="glyphwiki.org");var S,w={host:b,ssl:j,name:y,related:O,edittime:g,data:m,summary:x},C=n(10),T=n(1),E=n(7),N=n.n(E),I=N()("SELECT"),D={selectSingle:I("SELECT_SINGLE"),selectAddSingle:I("SELECT_ADD_SINGLE"),selectRemoveSingle:I("SELECT_REMOVE_SINGLE"),selectNone:I("SELECT_NONE"),selectAll:I("SELECT_ALL"),selectDeselected:I("SELECT_TOGGLE_ALL"),selectPrev:I("SELECT_PREV"),selectNext:I("SELECT_NEXT")},R=function(e){return e.case(D.selectSingle,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{selection:[t]})})).case(D.selectAddSingle,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{selection:e.selection.includes(t)?e.selection:e.selection.concat([t])})})).case(D.selectRemoveSingle,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{selection:e.selection.filter((function(e){return t!==e}))})})).case(D.selectAll,(function(e){return Object(T.a)(Object(T.a)({},e),{},{selection:e.glyph.map((function(e,t){return t}))})})).case(D.selectDeselected,(function(e){return Object(T.a)(Object(T.a)({},e),{},{selection:e.glyph.map((function(e,t){return t})).filter((function(t){return!e.selection.includes(t)}))})})).case(D.selectNone,(function(e){return Object(T.a)(Object(T.a)({},e),{},{selection:[]})})).case(D.selectPrev,(function(e){if(0===e.glyph.length)return Object(T.a)(Object(T.a)({},e),{},{selection:[]});var t=0===e.selection.length?0:Math.min.apply(Math,Object(C.a)(e.selection));return Object(T.a)(Object(T.a)({},e),{},{selection:[(t-1+e.glyph.length)%e.glyph.length]})})).case(D.selectNext,(function(e){if(0===e.glyph.length)return Object(T.a)(Object(T.a)({},e),{},{selection:[]});var t=0===e.selection.length?-1:Math.max.apply(Math,Object(C.a)(e.selection));return Object(T.a)(Object(T.a)({},e),{},{selection:[(t+1+e.glyph.length)%e.glyph.length]})}))},_=n(3),L=n(27);!function(e){e[e.north=0]="north",e[e.south=1]="south",e[e.east=2]="east",e[e.west=3]="west",e[e.southeast=4]="southeast",e[e.southwest=5]="southwest",e[e.northeast=6]="northeast",e[e.northwest=7]="northwest"}(S||(S={}));var P,A,Y,X=N()("EDITOR"),G={startBackgroundDrag:X("BACKGROUND_DRAG_START"),startSelectionDrag:X("SELECTION_DRAG_START"),startPointDrag:X("MOVE_POINT_START"),startResize:X("RESIZE_START"),mouseMove:X("MOUSE_MOVE"),mouseUp:X("MOUSE_UP"),updateCTMInv:X("UPDATE_CTMINV")},H=n(9),z=n(8),q=[[{position:"start",strokeTypes:[1],shapeTypes:[2]},{position:"start",strokeTypes:[1,2,3,4,6,7],shapeTypes:[12]}],[{position:"start",strokeTypes:[1],shapeTypes:[2]},{position:"end",strokeTypes:[1],shapeTypes:[13,313,413]}],[{position:"end",strokeTypes:[1],shapeTypes:[2]},{position:"start",strokeTypes:[1,2,3,4,6,7],shapeTypes:[22,27]}],[{position:"end",strokeTypes:[1],shapeTypes:[2]},{position:"end",strokeTypes:[1],shapeTypes:[23,24]}]],F=function(e,t){return e.position===t.position&&e.strokeTypes.includes(t.strokeType)&&e.shapeTypes.includes(t.shapeType)},U=function(e){var t=[];switch(e.value[0]){case 1:case 2:case 3:case 4:case 6:case 7:t.push({position:"start",strokeType:e.value[0],shapeType:e.value[1],coord:[e.value[3],e.value[4]],pointIndex:0});var n=(p(e.value[0])-3)/2-1;t.push({position:"end",strokeType:e.value[0],shapeType:e.value[2],coord:[e.value[3+2*n],e.value[3+2*n+1]],pointIndex:n})}return t},W=Object(z.a)((function(e,t){var n,a=[],r=Object(H.a)(t);try{for(r.s();!(n=r.n()).done;){var c,o=n.value,i=o.lineIndex,l=o.pointIndex,s=Object(H.a)(U(e[i]));try{for(s.s();!(c=s.n()).done;){var u=c.value;u.pointIndex===l&&a.push(u)}}catch(d){s.e(d)}finally{s.f()}}}catch(d){r.e(d)}finally{r.f()}var p=[];return e.forEach((function(e,t){var n,r=Object(H.a)(U(e));try{var c=function(){var e=n.value;a.some((function(t){return a=e,(n=t).coord[0]===a.coord[0]&&n.coord[1]===a.coord[1]&&q.some((function(e){var t=Object(_.a)(e,2),r=t[0],c=t[1];return F(r,n)&&F(c,a)||F(c,n)&&F(r,a)}));var n,a}))&&p.push({lineIndex:t,pointIndex:e.pointIndex})};for(r.s();!(n=r.n()).done;)c()}catch(d){r.e(d)}finally{r.f()}})),p}),(function(e,t){var n=Object(_.a)(e,2),a=n[0],r=n[1],c=Object(_.a)(t,2),o=c[0],i=c[1];return a===o&&r.length===i.length&&r.every((function(e,t){return e.lineIndex===i[t].lineIndex&&e.pointIndex===i[t].pointIndex}))})),B=Object(z.a)((function(e,t){var n,a=[],r=Object(H.a)(t);try{for(r.s();!(n=r.n()).done;){var c=n.value,o=e[c];a.push({lineIndex:c,pointIndex:0}),a.push({lineIndex:c,pointIndex:(p(o.value[0])-3)/2-1})}}catch(i){r.e(i)}finally{r.f()}return W(e,a).filter((function(e){var n=e.lineIndex;return!t.includes(n)}))})),K=function(e,t,n){switch(e.value[0]){case 99:var a=e.value.slice();return a[3]=t(a[3]),a[4]=n(a[4]),a[5]=t(a[5]),a[6]=n(a[6]),{value:a,partName:e.partName};case 0:case 1:case 2:case 3:case 4:case 6:case 7:case 9:for(var r=e.value.slice(),c=3;c+2<=r.length;c+=2)r[c]=t(r[c]),r[c+1]=n(r[c+1]);return{value:r};default:return e}},V=function(e,t,n,a){if(0===t.length)return e;var r,c=e.slice(),o=Object(H.a)(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,l=i.lineIndex,s=i.pointIndex,u=c[l],p=u.value.slice();p[3+2*s]=n(p[3+2*s]),p[3+2*s+1]=a(p[3+2*s+1]),c[l]=Object(T.a)(Object(T.a)({},u),{},{value:p})}}catch(d){o.e(d)}finally{o.f()}return c},$=function(e,t,n,a){if(0===t.length)return e;var r=B(e,t),c=function(e){return Math.round(e+n)},o=function(e){return Math.round(e+a)};return e=e.map((function(e,n){return t.includes(n)?K(e,c,o):e})),e=V(e,r,c,o)},J=function(e,t,n,a,r){if(0===t.length)return e;var c=t[0],o={lineIndex:c,pointIndex:n},i=W(e,[o]).filter((function(e){return e.lineIndex!==c}));i.push(o);return e=V(e,i,(function(e){return Math.round(e+a)}),(function(e){return Math.round(e+r)}))},Z=function(e,t,n,a){return e.map((function(e,r){return t.includes(r)?function(e,t,n){var a=Object(_.a)(t,4),r=a[0],c=a[1],o=a[2],i=a[3],l=Object(_.a)(n,4),s=l[0],u=l[1],p=l[2],d=l[3];return K(e,(function(e){return Math.round(s+(e-r)*(p-s)/(o-r))}),(function(e){return Math.round(u+(e-c)*(d-u)/(i-c))}))}(e,n,a):e}))},Q=function(e){return function(e){return e.reduce((function(e,t){return e+t}),0)}(e)/e.length},ee=function(e,t,n){return e*(1-n)+t*n},te=function(e,t){return e*e+t*t},ne=function(e,t){var n=Object(_.a)(t[0],2),a=n[0],r=n[1],c=Object(_.a)(t[t.length-1],2),o=c[0],i=c[1],l=o-a,s=i-r;if(e.length>0&&te(l,s)<Math.pow(25,2)){var u=e[e.length-1];if([1,2,3,4,6].includes(u.value[0])&&te(a-u.value[u.value.length-2],r-u.value[u.value.length-1])<Math.pow(10,2)){if([1,2,6].includes(u.value[0])&&l<0){var p={value:u.value.slice()};return p.value[2]=4,27===p.value[1]&&(p.value[1]=22),e.slice(0,-1).concat([p])}if([2,6].includes(u.value[0])&&l>=0&&s<0){var d={value:u.value.slice()};return d.value[2]=5,7===d.value[1]?d.value[1]=0:27===d.value[1]&&(d.value[1]=22),e.slice(0,-1).concat([d])}if([3,4].includes(u.value[0])&&s<0){var h={value:u.value.slice()};return h.value[2]=5,e.slice(0,-1).concat([h])}}}var v=Q(t.map((function(e){return Object(_.a)(e,1)[0]}))),f=Q(t.map((function(e){var t=Object(_.a)(e,2);t[0];return t[1]}))),b=ee((a+o)/2,v,3),j=ee((r+i)/2,f,3),y=(l*j-s*b+a*i-r*o)/Math.sqrt(te(l,s));if(Math.abs(y)<=5&&(l>0&&Math.abs(s)<=.5*l||s>0&&-s<=l&&l<=.5*s))return re(e,{value:[1,0,0,a,r,o,i]});if(l<0&&s>=50&&y<0&&-3*l<s){var O=a,g=ee(r,i,1/3),m=a,x=ee(r,i,2/3);return re(e,{value:[7,0,7,a,r,O,g,m,x,o,i]})}var k=0,M=7;if(l>0&&s>0&&y>0){var S=function(e,t){var n,a=void 0,r=1/0,c=Object(H.a)(e);try{for(c.s();!(n=c.n()).done;){var o=n.value,i=t(o);i<r&&(a=o,r=i)}}catch(l){c.e(l)}finally{c.f()}return a}(t,(function(e){var t=Object(_.a)(e,2);return t[0]-t[1]})),w=Object(_.a)(S,2),C=w[0],T=w[1],E=a-C,N=r-T,I=o-C,D=i-T,R=(E*I+N*D)/Math.sqrt(te(E,N)*te(I,D));if(E<50&&I>30&&-20<=D&&D<=20&&R>-.15){var L=function(e,t){var n,a=1/0,r=Object(H.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value,o=t?t(c):c;o<a&&(a=o)}}catch(i){r.e(i)}finally{r.f()}return a}(t,(function(e){return Object(_.a)(e,1)[0]}));return re(e,{value:[3,0,0,a,r,L,i,o,i]})}k=7,M=0}else l>0&&s>0&&y<0&&(k=7,M=8);return re(e,{value:[2,k,M,a,r,b,j,o,i]})},ae=function(e){return Math.round(e)},re=function(e,t){return P=t.value.map((function(){return!1})),e=le(e,t),e=pe(e,t),ue(t),t=K(t,ae,ae),(e=de(e,t)).concat([t])},ce=function(e,t,n,a){return e[t].value[n]===a?e:e.map((function(e,r){if(r!==t)return e;var c=Object(T.a)(Object(T.a)({},e),{},{value:e.value.slice()});return c.value[n]=a,c}))},oe=function(e,t,n,a,r,c){for(var o="start"===n?1:2,i="start"===n?3:t.value.length-2,l=i+1,s=t.value[i],u=t.value[l],p=s-10,d=s+10,h=u-10,v=u+10,f=e.length-1;f>=0;f--){var b=e[f];if(1===b.value[0]){var j=b.value[3],y=b.value[4],O=b.value[5],g=b.value[6];if(!(O-j<Math.abs(g-y))){if([0,2].includes(b.value[1])&&p<=j&&j<=d&&h<=y&&y<=v)return t.value[i]=j,t.value[l]=y,P[i]=P[l]=!0,t.value[o]=a,ce(e,f,1,2);if([0,2].includes(b.value[2])&&p<=O&&O<=d&&h<=g&&g<=v)return t.value[i]=O,t.value[l]=g,P[i]=P[l]=!0,t.value[o]=c,ce(e,f,2,2);if(y===g&&h<=y&&y<=v&&j<=s&&s<=O)return t.value[l]=y,P[l]=!0,t.value[o]=r,e}}}return e},ie=function(e,t,n){for(var a="start"===n?1:2,r="start"===n?3:5,c=r+1,o=t.value[r],i=t.value[c],l=o-10,s=o+10,u=i-10,p=i+10,d=e.length-1;d>=0;d--){var h=e[d];if([1,2,3,4,6,7].includes(h.value[0])){var v=h.value[3],f=h.value[4],b=h.value[5],j=h.value[6];if(!(1===h.value[0]&&b-v>Math.abs(j-f))){if("start"===n){if([0,12].includes(h.value[1])&&l<=v&&v<=s&&u<=f&&f<=p)return t.value[r]=v,t.value[c]=f,P[r]=P[c]=!0,t.value[a]=2,ce(e,d,1,12);if(1===h.value[0]&&[0,13,313,413].includes(h.value[2])&&l<=b&&b<=s&&u<=j&&j<=p)return t.value[r]=b,t.value[c]=j,P[r]=P[c]=!0,t.value[a]=2,0===h.value[2]?ce(e,d,2,13):e}else{if([0,22].includes(h.value[1])&&l<=v&&v<=s&&u<=f&&f<=p)return t.value[r]=v,t.value[c]=f,P[r]=P[c]=!0,t.value[a]=2,ce(e,d,1,22);if(1===h.value[0]&&[0,23,24].includes(h.value[2])&&l<=b&&b<=s&&u<=j&&j<=p)return t.value[r]=b,t.value[c]=j,P[r]=P[c]=!0,t.value[a]=2,0===h.value[2]?ce(e,d,2,23):e}if(v===b&&l<=v&&v<=s&&f<=i&&i<=j)return t.value[r]=v,P[r]=!0,t.value[a]=2,e}}}return e},le=function(e,t){if(1!==t.value[0]){if(t.value[4]>t.value[6])return e;var n=7===t.value[1]?7:32,a=7===t.value[1]?27:22;return oe(e,t,"start",12,n,a)}var r=t.value[3],c=t.value[4],o=t.value[5],i=t.value[6];return o-r>Math.abs(i-c)?ie(e,t,"start"):i-c>0?oe(e,t,"start",12,32,22):e},se=function(e,t){var n=3+2*t,a=n+1,r=n+2,c=n+3,o=e.value[n],i=e.value[a],l=e.value[r],s=e.value[c],u=l-o,p=s-i;if(Math.abs(u)>20*Math.abs(p)){if(!P[c])return void(e.value[c]=i);if(!P[a])return void(e.value[a]=s)}if(Math.abs(p)>20*Math.abs(u)){if(!P[r])return void(e.value[r]=o);if(!P[n])return void(e.value[n]=l)}},ue=function(e){switch(e.value[0]){case 1:return void se(e,0);case 3:return se(e,0),void se(e,1);case 4:return void se(e,1);case 7:e.value[5]=e.value[7]=e.value[3]}},pe=function(e,t){if(1!==t.value[0])return e;var n=t.value[3],a=t.value[4],r=t.value[5],c=t.value[6];return r-n>Math.abs(c-a)?ie(e,t,"end"):c-a>0?oe(e,t,"end",13,32,23):e},de=function(e,t){if(1!==t.value[0])return e;var n=t.value[3],a=t.value[4],r=t.value[5],c=t.value[6];if(a!==c)return e;var o=a-10,i=a+10;return e.forEach((function(t,c){if(1===t.value[0]&&0===t.value[2]){var l=t.value[3],s=t.value[4],u=t.value[5],p=t.value[6];u-l>Math.abs(p-s)||o<=p&&p<=i&&n<=u&&u<=r&&(e=ce(e,c,2,32),e=ce(e,c,6,a))}})),e},he=n(46),ve=N()("EDITOR"),fe={loadedBuhin:ve("LOAD_BUHIN_DATA"),loadedStretchParam:ve("LOAD_STRETCH_PARAM"),changeStrokeType:ve("CHANGE_STROKE_TYPE"),changeHeadShapeType:ve("CHANGE_HEAD_SHAPE_TYPE"),changeTailShapeType:ve("CHANGE_TAIL_SHAPE_TYPE"),changeStretchCoeff:ve("CHANGE_STRETCH_COEFF"),changeReflectRotateOpType:ve("CHANGE_REFLECT_ROTATE_OPTYPE"),swapWithPrev:ve("SWAP_WITH_PREV"),swapWithNext:ve("SWAP_WITH_NEXT"),insertPart:ve("ADD_PART"),paste:ve("PASTE"),copy:ve("COPY_SELECTION"),cut:ve("CUT_SELECTION"),delete:ve("DELETE_SELECTION"),decomposeSelected:ve("DECOMPOSE_SELECTION"),moveSelected:ve("MOVE_SELECTED"),toggleFreehand:ve("TOGGLE_FREEHAND_MODE"),escape:ve("PRESS_ESC_KEY"),finishEdit:ve("FINISH_EDIT")},be=n(11),je=n.n(be),ye=n(21),Oe=function(){var e=Object(ye.a)(je.a.mark((function e(t){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://asia-northeast1-ku6goma.cloudfunctions.net/gwproxy"+t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("API error occurred");case 5:return e.t0=URLSearchParams,e.next=8,n.text();case 8:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(ye.a)(je.a.mark((function e(t){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe("/get_source.cgi?name=".concat(encodeURIComponent(t)));case 2:return n=e.sent,e.abrupt("return",n.get("data"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(ye.a)(je.a.mark((function e(t){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe("/search4ge.cgi?query=".concat(encodeURIComponent(t)));case 2:return n=e.sent,e.abrupt("return",n.get("data"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=new he.Kage,ke=function(e,t,n){return xe.kBuhin.search=function(n){var a=e.get(n);return"undefined"===typeof a&&(a=(null===t||void 0===t?void 0:t(n))||""),a},"undefined"!==typeof n&&(xe.kShotai=n),xe},Me=new Set,Se=function(e){Me.has(e)||(Me.add(e),ge(e).then((function(t){if("string"!==typeof t)throw new Error("failed to get buhin source of ".concat(e));var n=/^0:1:0:(-?\d+):(-?\d+):(-?\d+):(-?\d+)(?=$|\$)/.exec(t);if(n){var a=[+n[1]||0,+n[2]||0,+n[3]||0,+n[4]||0];lt.dispatch(fe.loadedStretchParam([e,a]))}lt.dispatch(fe.loadedBuhin([e,t])),Me.delete(e)})).catch((function(e){return console.error(e)})))},we=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},Ce=Object(z.a)((function(e,t,n){var a=e.map(d);return ke(t,Se,n).makeGlyphSeparated(a)}),(function(e,t){var n=Object(_.a)(e,3),a=n[0],r=n[1],c=n[2],o=Object(_.a)(t,3),i=o[0],l=o[1],s=o[2];return r===l&&c===s&&we(a,i)})),Te=function(e){return Object(z.a)((function(e,t,n){return Ce(e,t,n)}),e)},Ee=Te(),Ne=Te((function(e,t){var n=Object(_.a)(e,3),a=n[0],r=n[1],c=n[2],o=Object(_.a)(t,3),i=o[0],l=o[1],s=o[2];return r===l&&c===s&&we(a,i)})),Ie=n(6),De=function(e){var t=e.map((function(e){return Object(_.a)(e,1)[0]})),n=e.map((function(e){return Object(_.a)(e,2)[1]}));return[Math.min.apply(Math,Object(C.a)(t)),Math.min.apply(Math,Object(C.a)(n)),Math.max.apply(Math,Object(C.a)(t)),Math.max.apply(Math,Object(C.a)(n))]},Re=function(e){switch(e.value[0]){case 99:return De([[e.value[3],e.value[4]],[e.value[5],e.value[6]]]);case 0:case 1:case 2:case 3:case 4:case 6:case 7:case 9:for(var t=[],n=3;n+2<=e.value.length;n+=2)t.push([e.value[n],e.value[n+1]]);return De(t);default:return De([])}},_e=function(e,t){var n=Object(_.a)(e,4),a=n[0],r=n[1],c=n[2],o=n[3],i=Object(_.a)(t,4),l=i[0],s=i[1],u=i[2],p=i[3];return[Math.min(a,l),Math.min(r,s),Math.max(c,u),Math.max(o,p)]},Le=Object(z.a)((function(e){return e.map(Re).reduce(_e,De([]))}),(function(e,t){var n=Object(_.a)(e,1)[0],a=Object(_.a)(t,1)[0];return n.length===a.length&&n.every((function(e,t){return e===a[t]}))})),Pe=function(e,t,n,a,r){if(1===t.length){var c=e[t[0]];switch(c.value[0]){case 0:case 9:case 99:var o=c.value.slice();switch(n){case S.north:o[4]=Math.round(o[4]+r);break;case S.west:o[3]=Math.round(o[3]+a);break;case S.south:o[6]=Math.round(o[6]+r);break;case S.east:o[5]=Math.round(o[5]+a);break;case S.southeast:o[5]=Math.round(o[5]+a),o[6]=Math.round(o[6]+r);break;case S.southwest:o[3]=Math.round(o[3]+a),o[6]=Math.round(o[6]+r);break;case S.northeast:o[5]=Math.round(o[5]+a),o[4]=Math.round(o[4]+r);break;case S.northwest:o[3]=Math.round(o[3]+a),o[4]=Math.round(o[4]+r)}var i=99===c.value[0]?{value:o,partName:c.partName}:{value:o};return e.map((function(e,n){return n===t[0]?i:e}))}}var l=20,s=Le(t.map((function(t){return e[t]}))),u=s.slice();switch(n){case S.north:u[1]=Math.min(u[1]+r,u[3]-l);break;case S.west:u[0]=Math.min(u[0]+a,u[2]-l);break;case S.south:u[3]=Math.max(u[3]+r,u[1]+l);break;case S.east:u[2]=Math.max(u[2]+a,u[0]+l);break;case S.southeast:u[2]=Math.max(u[2]+a,u[0]+l),u[3]=Math.max(u[3]+r,u[1]+l);break;case S.southwest:u[0]=Math.min(u[0]+a,u[2]-l),u[3]=Math.max(u[3]+r,u[1]+l);break;case S.northeast:u[2]=Math.max(u[2]+a,u[0]+l),u[1]=Math.min(u[1]+r,u[3]-l);break;case S.northwest:u[0]=Math.min(u[0]+a,u[2]-l),u[1]=Math.min(u[1]+r,u[3]-l)}return Z(e,t,s,u)},Ae=Object(Ie.a)([function(e){return e.glyph},function(e){return e.selection},function(e){return e.dragSelection},function(e){return e.dragPoint},function(e){return e.resizeSelection},function(e){return e.freehandStroke}],(function(e,t,n,a,r,c){if(n){var o=Object(_.a)(n,4),i=o[0],l=o[1],s=o[2],u=o[3];e=$(e,t,s-i,u-l)}else if(a){var p=Object(_.a)(a,2),d=p[0],h=Object(_.a)(p[1],4),v=h[0],f=h[1],b=h[2],j=h[3];e=J(e,t,d,b-v,j-f)}else if(r){var y=Object(_.a)(r,2),O=y[0],g=Object(_.a)(y[1],4),m=g[0],x=g[1],k=g[2],M=g[3];e=Pe(e,t,O,k-m,M-x)}else c&&(e=ne(e,c));return e})),Ye=function(e){return e.case(G.startBackgroundDrag,(function(e,t){if(!e.ctmInv)return e;var n=e.ctmInv(t.clientX,t.clientY),a=Object(_.a)(n,2),r=a[0],c=a[1];return e.freehandMode?Object(T.a)(Object(T.a)({},e),{},{freehandStroke:[[r,c]]}):Object(T.a)(Object(T.a)({},e),{},{areaSelectRect:[r,c,r,c]})})).case(G.startSelectionDrag,(function(e,t){if(!e.ctmInv)return e;var n=e.ctmInv(t.clientX,t.clientY),a=Object(_.a)(n,2),r=a[0],c=a[1];return Object(T.a)(Object(T.a)({},e),{},{dragSelection:[r,c,r,c]})})).case(G.startPointDrag,(function(e,t){var n=Object(_.a)(t,2),a=n[0],r=n[1];if(!e.ctmInv)return e;var c=e.ctmInv(a.clientX,a.clientY),o=Object(_.a)(c,2),i=o[0],l=o[1];return Object(T.a)(Object(T.a)({},e),{},{dragPoint:[r,[i,l,i,l]]})})).case(G.startResize,(function(e,t){var n=Object(_.a)(t,2),a=n[0],r=n[1];if(!e.ctmInv)return e;var c=e.ctmInv(a.clientX,a.clientY),o=Object(_.a)(c,2),i=o[0],l=o[1];return Object(T.a)(Object(T.a)({},e),{},{resizeSelection:[r,[i,l,i,l]]})})).case(G.mouseMove,(function(e,t){if(!e.ctmInv)return e;if(e.areaSelectRect){var n=Object(_.a)(e.areaSelectRect,2),a=n[0],r=n[1],c=e.ctmInv(t.clientX,t.clientY),o=Object(_.a)(c,2),i=o[0],l=o[1];return Object(T.a)(Object(T.a)({},e),{},{areaSelectRect:[a,r,i,l]})}if(e.dragSelection){var s=Object(_.a)(e.dragSelection,2),u=s[0],p=s[1],d=e.ctmInv(t.clientX,t.clientY),h=Object(_.a)(d,2),v=h[0],f=h[1];return Object(T.a)(Object(T.a)({},e),{},{dragSelection:[u,p,v,f]})}if(e.dragPoint){var b=Object(_.a)(e.dragPoint,2),j=b[0],y=Object(_.a)(b[1],2),O=y[0],g=y[1],m=e.ctmInv(t.clientX,t.clientY),x=Object(_.a)(m,2),k=x[0],M=x[1];return Object(T.a)(Object(T.a)({},e),{},{dragPoint:[j,[O,g,k,M]]})}if(e.resizeSelection){var S=Object(_.a)(e.resizeSelection,2),w=S[0],C=Object(_.a)(S[1],2),E=C[0],N=C[1],I=e.ctmInv(t.clientX,t.clientY),D=Object(_.a)(I,2),R=D[0],L=D[1];return Object(T.a)(Object(T.a)({},e),{},{resizeSelection:[w,[E,N,R,L]]})}if(e.freehandStroke){var P=e.ctmInv(t.clientX,t.clientY),A=Object(_.a)(P,2),Y=A[0],X=A[1],G=e.freehandStroke.concat([[Y,X]]);if(G.length>=3){var H=Object(_.a)(G[G.length-2],2),z=H[0],q=H[1];Math.abs(Y-z)<2&&Math.abs(X-q)<2&&G.splice(G.length-2,1)}return Object(T.a)(Object(T.a)({},e),{},{freehandStroke:G})}return e})).case(G.mouseUp,(function(e,t){if(!e.ctmInv)return e;if(e.areaSelectRect){var n=Object(_.a)(e.areaSelectRect,2),a=n[0],r=n[1],c=e.ctmInv(t.clientX,t.clientY),o=Object(_.a)(c,2),i=o[0],l=o[1],s=function(e,t,n,a,r,c,o){for(var i=Ee(e,t,n),l=[],s=[[a,r],[a,o],[c,o],[c,r],[a,r]],u=0;u<i.length;u++)i[u].array.some((function(e){var t=e.array.map((function(e){return[e.x,e.y]}));return t.push(t[0]),Object(L.a)(s,t)||Object(L.a)(t,s)||Object(L.b)(s,t)}))&&l.push(u);return l}(e.glyph,e.buhinMap,e.shotai,a,r,i,l),u=Array.from(new Set(e.selection.concat(s)));return Object(T.a)(Object(T.a)({},e),{},{selection:u,areaSelectRect:null})}if(e.dragSelection){var p=Object(_.a)(e.dragSelection,2),d=p[0],h=p[1],v=e.ctmInv(t.clientX,t.clientY),f=Object(_.a)(v,2),b=f[0],j=f[1],y=$(e.glyph,e.selection,b-d,j-h);return Object(T.a)(Object(T.a)({},e),{},{glyph:y,dragSelection:null})}if(e.dragPoint){var O=Object(_.a)(e.dragPoint,2),g=O[0],m=Object(_.a)(O[1],2),x=m[0],k=m[1],M=e.ctmInv(t.clientX,t.clientY),S=Object(_.a)(M,2),w=S[0],C=S[1],E=J(e.glyph,e.selection,g,w-x,C-k);return Object(T.a)(Object(T.a)({},e),{},{glyph:E,dragPoint:null})}if(e.resizeSelection){var N=Object(_.a)(e.resizeSelection,2),I=N[0],D=Object(_.a)(N[1],2),R=D[0],P=D[1],A=e.ctmInv(t.clientX,t.clientY),Y=Object(_.a)(A,2),X=Y[0],G=Y[1],H=Pe(e.glyph,e.selection,I,X-R,G-P);return Object(T.a)(Object(T.a)({},e),{},{glyph:H,resizeSelection:null})}if(e.freehandStroke){var z=e.ctmInv(t.clientX,t.clientY),q=Object(_.a)(z,2),F=q[0],U=q[1],W=e.freehandStroke.concat([[F,U]]),B=ne(e.glyph,W);return Object(T.a)(Object(T.a)({},e),{},{glyph:B,freehandStroke:null})}return e})).case(G.updateCTMInv,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{ctmInv:t})}))},Xe=function(e){return 99!==e.value[0]?null:[e.value[9],e.value[10],e.value[1],e.value[2]]},Ge=function(e,t){if(99!==e.value[0])return e;var n=Object(_.a)(t,4),a=n[0],r=n[1],c=n[2],o=n[3],i=e.value.slice();return i[9]=Math.round(a),i[10]=Math.round(r),i[1]=Math.round(c),i[2]=Math.round(o),{value:i,partName:e.partName}},He=function(e){var t=Object(_.a)(e,4),n=t[0],a=t[1],r=t[2];return r<=100&&(r+=200,n=a=0),[n,a,r,t[3]]},ze=function(e,t){var n=Object(_.a)(e,4),a=n[0],r=n[1],c=n[2],o=n[3];if(a===c&&r===o)return 0;var i,l=He(t),s=Object(_.a)(l,4),u=s[0],p=s[1],d=s[2],h=s[3];return u===d-200&&p===h?0:(i=Math.round(Math.abs(a-c)>Math.abs(r-o)?(d-100-a)/(c-a)*20:(h+100-r)/(o-r)*20),Math.max(-10,Math.min(10,i))||0)},qe=function(e,t){return e.map((function(e){return function(e,t){return ke(t).getEachStrokes(d(e)).map((function(e){var t=p(e.a1);return{value:[e.a1,e.a2_100+100*e.kirikuchiAdjustment+1e3*e.tateAdjustment,e.a3_100+100*e.opt3+1e3*e.mageAdjustment,Math.round(e.x1)||0,Math.round(e.y1)||0,Math.round(e.x2)||0,Math.round(e.y2)||0,Math.round(e.x3)||0,Math.round(e.y3)||0,Math.round(e.x4)||0,Math.round(e.y4)||0].slice(0,t)}}))}(e,t)})).reduce((function(e,t){return e.concat(t)}),[])},Fe=[1,2,3,4,6,7],Ue={1:[0,2,32,12,22],2:[0,32,12,22,7,27],3:[0,32,12,22],4:[0,22],6:[0,32,12,22,7,27],7:[0,32,12,22]},We={1:[0,2,32,13,23,4,313,413,24],2:[7,0,8,4,5],3:[0,5],4:[0,5],6:[7,0,8,4,5],7:[7]},Be=[[1,0,0],[1,0,2],[1,0,32],[1,0,13],[1,0,23],[1,0,4],[1,0,313],[1,0,413],[1,0,24],[1,2,0],[1,2,2],[1,32,0],[1,32,32],[1,32,13],[1,32,23],[1,32,4],[1,32,313],[1,32,413],[1,32,24],[1,12,0],[1,12,32],[1,12,13],[1,12,23],[1,12,313],[1,12,413],[1,12,24],[1,22,0],[1,22,32],[1,22,13],[1,22,23],[1,22,4],[1,22,313],[1,22,413],[1,22,24],[2,0,7],[2,0,5],[2,32,7],[2,32,4],[2,32,5],[2,12,7],[2,22,7],[2,22,4],[2,22,5],[2,7,0],[2,7,8],[2,7,4],[2,27,0],[3,0,0],[3,0,5],[3,32,0],[3,32,5],[3,12,0],[3,12,5],[3,22,0],[3,22,5],[4,0,0],[4,0,5],[4,22,0],[4,22,5],[6,0,7],[6,0,5],[6,32,7],[6,32,4],[6,32,5],[6,12,7],[6,22,7],[6,22,4],[6,22,5],[6,7,0],[6,7,8],[6,7,4],[6,27,0],[7,0,7],[7,32,7],[7,12,7],[7,22,7]],Ke=Object(z.a)((function(e){if(!Fe.includes(e.value[0]))return!0;if(!Be.some((function(t){var n=Object(_.a)(t,3),a=n[0],r=n[1],c=n[2];return a===e.value[0]&&r===e.value[1]&&c===e.value[2]})))return!1;if(1===e.value[0]){var t=Object(_.a)(e.value,7),n=t[1],a=t[2],r=t[3],c=t[4],o=t[5],i=t[6];if((c===i?r===o:o-r<=Math.abs(c-i))?2===n||2===a:![0,2].includes(n)||![0,2].includes(a))return!1}return!0})),Ve=n(12);!function(e){e[e.reflectX=0]="reflectX",e[e.reflectY=1]="reflectY",e[e.rotate90=2]="rotate90",e[e.rotate180=3]="rotate180",e[e.rotate270=4]="rotate270"}(Y||(Y={}));var $e,Je=[Y.reflectX,Y.reflectY,Y.rotate90,Y.rotate180,Y.rotate270],Ze=(A={},Object(Ve.a)(A,Y.reflectX,[98,0]),Object(Ve.a)(A,Y.reflectY,[97,0]),Object(Ve.a)(A,Y.rotate90,[99,1]),Object(Ve.a)(A,Y.rotate180,[99,2]),Object(Ve.a)(A,Y.rotate270,[99,3]),A),Qe=function(e,t,n){var a=e.slice();return a[t]=n,a},et=function(e){return e.case(fe.loadedBuhin,(function(e,t){var n=Object(_.a)(t,2),a=n[0],r=n[1],c=new Map(e.buhinMap);return c.set(a,r),Object(T.a)(Object(T.a)({},e),{},{buhinMap:c})})).case(fe.loadedStretchParam,(function(e,t){var n=Object(_.a)(t,2),a=n[0],r=n[1],c=new Map(e.stretchParamMap);return c.set(a,r),Object(T.a)(Object(T.a)({},e),{},{stretchParamMap:c})})).case(fe.changeStrokeType,(function(e,t){if(1!==e.selection.length)return e;var n=e.selection[0],a=function(e,t){var n=e.value[0];if(!Fe.includes(n)||!Fe.includes(t))return e;var a={value:e.value.slice()};a.value[0]=t,Ue[t].includes(a.value[1])||(a.value[1]=Ue[t][0]),We[t].includes(a.value[2])||(a.value[2]=We[t][0]);var r=(p(n)-3)/2,c=(p(t)-3)/2;if(r===c)return a;if(2===r&&3===c){var o=a.value[3],i=a.value[4],l=a.value[5],s=a.value[6],u=Math.round((o+l)/2),d=Math.round((i+s)/2);return a.value=a.value.slice(0,3).concat([o,i,u,d,l,s]),a}if(2===r&&4===c){var h=a.value[3],v=a.value[4],f=a.value[5],b=a.value[6],j=Math.round((2*h+f)/3),y=Math.round((2*v+b)/3),O=Math.round((h+2*f)/3),g=Math.round((v+2*b)/3);return a.value=a.value.slice(0,3).concat([h,v,j,y,O,g,f,b]),a}if(3===r&&2===c){var m=a.value[3],x=a.value[4],k=a.value[7],M=a.value[8];return a.value=a.value.slice(0,3).concat([m,x,k,M]),a}if(3===r&&4===c){var S=a.value[3],w=a.value[4],C=a.value[5],T=a.value[6],E=a.value[7],N=a.value[8],I=Math.round((S+2*C)/3),D=Math.round((w+2*T)/3),R=Math.round((E+2*C)/3),_=Math.round((N+2*T)/3);return a.value=a.value.slice(0,3).concat([S,w,I,D,R,_,E,N]),a}if(4===r&&2===c){var L=a.value[3],P=a.value[4],A=a.value[9],Y=a.value[10];return a.value=a.value.slice(0,3).concat([L,P,A,Y]),a}if(4===r&&3===c){var X=a.value[3],G=a.value[4],H=a.value[5],z=a.value[6],q=a.value[7],F=a.value[8],U=a.value[9],W=a.value[10],B=Math.round((H+q)/2),K=Math.round((z+F)/2);return a.value=a.value.slice(0,3).concat([X,G,B,K,U,W]),a}return a}(e.glyph[n],t);return Object(T.a)(Object(T.a)({},e),{},{glyph:Qe(e.glyph,n,a)})})).case(fe.changeHeadShapeType,(function(e,t){if(1!==e.selection.length)return e;var n=e.selection[0],a=Object(T.a)(Object(T.a)({},e.glyph[n]),{},{value:e.glyph[n].value.slice()});return a.value[1]=t,Object(T.a)(Object(T.a)({},e),{},{glyph:Qe(e.glyph,n,a)})})).case(fe.changeTailShapeType,(function(e,t){if(1!==e.selection.length)return e;var n=e.selection[0],a=Object(T.a)(Object(T.a)({},e.glyph[n]),{},{value:e.glyph[n].value.slice()});return a.value[2]=t,Object(T.a)(Object(T.a)({},e),{},{glyph:Qe(e.glyph,n,a)})})).case(fe.changeStretchCoeff,(function(e,t){if(1!==e.selection.length)return e;var n=e.selection[0],a=e.glyph[n];if(!a.partName)return e;var r=e.stretchParamMap.get(a.partName);if(!r)return e;var c=Ge(e.glyph[n],function(e,t){var n=Object(_.a)(e,4),a=n[0],r=n[1];return[a-100,r-100,a+(n[2]-a)*t/20+100,r+(n[3]-r)*t/20-100]}(r,t));return Object(T.a)(Object(T.a)({},e),{},{glyph:Qe(e.glyph,n,c)})})).case(fe.changeReflectRotateOpType,(function(e,t){if(1!==e.selection.length)return e;var n=e.selection[0],a=Object(T.a)(Object(T.a)({},e.glyph[n]),{},{value:e.glyph[n].value.slice()}),r=Ze[t];return r?(a.value[1]=r[0],a.value[2]=r[1],Object(T.a)(Object(T.a)({},e),{},{glyph:Qe(e.glyph,n,a)})):e})).case(fe.swapWithPrev,(function(e){if(1!==e.selection.length)return e;var t=e.selection[0];if(0===t)return e;var n=e.glyph.slice();return n[t-1]=e.glyph[t],n[t]=e.glyph[t-1],Object(T.a)(Object(T.a)({},e),{},{glyph:n,selection:[t-1]})})).case(fe.swapWithNext,(function(e){if(1!==e.selection.length)return e;var t=e.selection[0];if(t===e.glyph.length-1)return e;var n=e.glyph.slice();return n[t+1]=e.glyph[t],n[t]=e.glyph[t+1],Object(T.a)(Object(T.a)({},e),{},{glyph:n,selection:[t+1]})})).case(fe.insertPart,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{glyph:e.glyph.concat([{value:[99,0,0,0,0,200,200,0,0,0,0],partName:t}]),selection:[e.glyph.length]})})).case(fe.paste,(function(e){return Object(T.a)(Object(T.a)({},e),{},{glyph:e.glyph.concat(e.clipboard),selection:e.clipboard.map((function(t,n){return e.glyph.length+n}))})})).case(fe.copy,(function(e){var t=e.selection.map((function(t){return e.glyph[t]})),n=Le(t),a=Object(_.a)(n,2),r=a[0],c=a[1],o=function(e){return 230+e-r},i=function(e){return 20+e-c};return Object(T.a)(Object(T.a)({},e),{},{clipboard:e.selection.map((function(t){return K(e.glyph[t],o,i)}))})})).case(fe.cut,(function(e){return Object(T.a)(Object(T.a)({},e),{},{glyph:e.glyph.filter((function(t,n){return!e.selection.includes(n)})),clipboard:e.selection.map((function(t){return e.glyph[t]})),selection:[]})})).case(fe.delete,(function(e){return Object(T.a)(Object(T.a)({},e),{},{glyph:e.glyph.filter((function(t,n){return!e.selection.includes(n)})),selection:[]})})).case(fe.decomposeSelected,(function(e){var t=[],n=[];return e.glyph.forEach((function(a,r){if(e.selection.includes(r)){var c=function(e,t){if(99!==e.value[0])return[e];var n=t.get(e.partName);if(!n)return[e];var a=!1,r=ke(t,(function(){a=!0})),c=h(n),o=r.getEachStrokes(v(c)),i=r.getBox(o),l=e.value[3],s=e.value[4],u=e.value[5],p=e.value[6],d=He(Xe(e)),f=Object(_.a)(d,4),b=f[0],j=f[1],y=f[2],O=f[3],g=!(b===y-200&&j===O);return g&&a?[e]:c.map((function(e){var t=K(e,(function(e){var t=g?r.stretch(y-200,b,e,i.minX,i.maxX):e;return Math.round(t/200*(u-l)+l)}),(function(e){var t=g?r.stretch(O,j,e,i.minY,i.maxY):e;return Math.round(t/200*(p-s)+s)}));if(!g||99!==t.value[0])return t;var n=He(Xe(t)),a=Object(_.a)(n,4),c=a[0],o=a[1],d=a[2],h=a[3];if(c!==d-200||o!==h)return t;var v=t.value[3],f=t.value[4],m=t.value[5],x=t.value[6];if(v===m||f===x)return t;var k=function(e){return(e-v)/(m-v)*200},M=function(e){return(e-f)/(x-f)*200};return Ge(t,[k(b+100)-100,M(j+100)-100,k(y-100)+100,M(O+100)-100])}))}(a,e.buhinMap);n=n.concat(c.map((function(e,n){return t.length+n}))),t=t.concat(c)}else t.push(a)})),Object(T.a)(Object(T.a)({},e),{},{glyph:t,selection:n})})).case(fe.moveSelected,(function(e,t){var n=Object(_.a)(t,2),a=n[0],r=n[1];return Object(T.a)(Object(T.a)({},e),{},{glyph:$(e.glyph,e.selection,a,r)})})).case(fe.toggleFreehand,(function(e){return Object(T.a)(Object(T.a)({},e),{},{selection:e.freehandMode?e.selection:[],freehandMode:!e.freehandMode})})).case(fe.escape,(function(e){return e.showOptionModal?Object(T.a)(Object(T.a)({},e),{},{showOptionModal:!1}):e.freehandMode?Object(T.a)(Object(T.a)({},e),{},{freehandMode:!1}):e.selection.length?Object(T.a)(Object(T.a)({},e),{},{selection:[]}):e})).case(fe.finishEdit,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{exitEvent:t})}))},tt=N()("DISPLAY"),nt={openOptionModal:tt("OPEN_OPTION_MODAL"),closeOptionModal:tt("CLOSE_OPTION_MODAL"),setGridDisplay:tt("SET_GRID_DISPLAY"),setGridOriginX:tt("SET_GRID_ORIGIN_X"),setGridOriginY:tt("SET_GRID_ORIGIN_Y"),setGridSpacingX:tt("SET_GRID_SPACING_X"),setGridSpacingY:tt("SET_GRID_SPACING_Y"),setShotai:tt("SET_SHOTAI"),setStrokeCenterLineDisplay:tt("SET_STROKE_CENTER_LINE_DISPLAY"),setXorMaskType:tt("SET_XOR_MASK_TYPE")},at=function(e){return e.case(nt.openOptionModal,(function(e){return Object(T.a)(Object(T.a)({},e),{},{showOptionModal:!0})})).case(nt.closeOptionModal,(function(e){return Object(T.a)(Object(T.a)({},e),{},{showOptionModal:!1})})).case(nt.setGridDisplay,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{grid:Object(T.a)(Object(T.a)({},e.grid),{},{display:t})})})).case(nt.setGridOriginX,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{grid:Object(T.a)(Object(T.a)({},e.grid),{},{originX:t})})})).case(nt.setGridOriginY,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{grid:Object(T.a)(Object(T.a)({},e.grid),{},{originY:t})})})).case(nt.setGridSpacingX,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{grid:Object(T.a)(Object(T.a)({},e.grid),{},{spacingX:Math.max(2,t)})})})).case(nt.setGridSpacingY,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{grid:Object(T.a)(Object(T.a)({},e.grid),{},{spacingY:Math.max(2,t)})})})).case(nt.setStrokeCenterLineDisplay,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{showStrokeCenterLine:t})})).case(nt.setShotai,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{shotai:t})})).case(nt.setXorMaskType,(function(e,t){return Object(T.a)(Object(T.a)({},e),{},{xorMaskType:t})}))},rt=N()("UNDO"),ct={undo:rt("UNDO"),redo:rt("REDO")},ot={glyph:h(w.data),selection:[],areaSelectRect:null,dragSelection:null,dragPoint:null,resizeSelection:null,freehandStroke:null,ctmInv:null,freehandMode:!1,buhinMap:new Map,stretchParamMap:new Map,clipboard:[],undoStacks:{undo:[],redo:[]},exitEvent:null,showOptionModal:!1,grid:{display:!0,originX:0,originY:0,spacingX:20,spacingY:20},showStrokeCenterLine:1,shotai:0,xorMaskType:"none"},it=function(e){var t=e(void 0,{type:"_INIT"});return Object(u.reducerWithInitialState)(t).case(ct.undo,(function(e){return 0===e.undoStacks.undo.length?e:Object(T.a)(Object(T.a)({},e),{},{glyph:e.undoStacks.undo[e.undoStacks.undo.length-1],selection:[],undoStacks:{undo:e.undoStacks.undo.slice(0,-1),redo:e.undoStacks.redo.concat([e.glyph])}})})).case(ct.redo,(function(e){return 0===e.undoStacks.redo.length?e:Object(T.a)(Object(T.a)({},e),{},{glyph:e.undoStacks.redo[e.undoStacks.redo.length-1],selection:[],undoStacks:{undo:e.undoStacks.undo.concat([e.glyph]),redo:e.undoStacks.redo.slice(0,-1)}})})).default((function(t,n){var a=e(t,n);return t?function(e,t){return n=e.glyph,a=t.glyph,n===a||n.length===a.length&&n.every((function(e,t){var n=a[t];return e===n||e.partName===n.partName&&e.value.length===n.value.length&&e.value.every((function(e,t){return e===n.value[t]}))}))?t:Object(T.a)(Object(T.a)({},t),{},{undoStacks:{undo:e.undoStacks.undo.concat([e.glyph]).slice(-30),redo:[]}});var n,a}(t,a):a}))}(Object(u.reducerWithInitialState)(ot).withHandling(R).withHandling(Ye).withHandling(et).withHandling(at)),lt=Object(s.b)(it),st=n(35),ut=n.n(st),pt=n(104),dt={none:"",circle:"M 123.2 13.4 137.9 18.8 151.5 26.6 163.5 36.7 173.5 48.7 181.3 62.2 186.7 76.9 189.4 92.4 189.4 108 186.7 123.4 181.3 138.1 173.5 151.7 163.5 163.7 151.5 173.7 137.9 181.6 123.2 186.9 107.8 189.6 92.1 189.6 76.7 186.9 62 181.6 48.4 173.7 36.4 163.7 26.4 151.7 18.6 138.1 13.2 123.4 10.5 108 10.5 92.4 13.2 76.9 18.6 62.2 26.4 48.7 36.4 36.7 48.4 26.6 62 18.8 76.7 13.4 92.1 10.7 107.8 10.7 Z",squareWithRoundedCorners:"M 176.9 15.1 178.8 15.7 180.5 16.6 182 17.9 183.3 19.4 184.2 21.1 184.8 23 185 25 185 175 184.8 176.9 184.2 178.8 183.3 180.5 182 182 180.5 183.3 178.8 184.2 176.9 184.8 175 185 25 185 23 184.8 21.1 184.2 19.4 183.3 17.9 182 16.6 180.5 15.7 178.8 15.1 176.9 15 175 15 25 15.1 23 15.7 21.1 16.6 19.4 17.9 17.9 19.4 16.6 21.1 15.7 23 15.1 25 15 175 15 Z",square:"M 185 185 15 185 15 15 185 15 Z",diamond:"M 190 100 100 190 10 100 100 10 Z"},ht=Object.keys(dt);n(84);!function(e){e[e.none=0]="none",e[e.selection=1]="selection",e[e.always=2]="always"}($e||($e={}));ut.a.setAppElement("#root");var vt,ft=function(){var e=Object(l.d)((function(e){return e.showOptionModal})),t=Object(l.d)((function(e){return e.grid})),n=Object(l.d)((function(e){return e.shotai})),c=Object(l.d)((function(e){return e.xorMaskType})),o=Object(l.d)((function(e){return e.showStrokeCenterLine})),i=Object(l.c)(),s=Object(r.useCallback)((function(){i(nt.closeOptionModal())}),[i]),u=Object(r.useCallback)((function(e){i(nt.setGridDisplay(e.currentTarget.checked))}),[i]),p=Object(r.useCallback)((function(e){i(nt.setGridOriginX(e.currentTarget.valueAsNumber))}),[i]),d=Object(r.useCallback)((function(e){i(nt.setGridOriginY(e.currentTarget.valueAsNumber))}),[i]),h=Object(r.useCallback)((function(e){i(nt.setGridSpacingX(e.currentTarget.valueAsNumber))}),[i]),v=Object(r.useCallback)((function(e){i(nt.setGridSpacingY(e.currentTarget.valueAsNumber))}),[i]),f=Object(r.useCallback)((function(e){i(nt.setShotai(+e.currentTarget.value))}),[i]),b=Object(r.useCallback)((function(e){i(nt.setStrokeCenterLineDisplay(+e.currentTarget.value))}),[i]),j=Object(r.useCallback)((function(e){i(nt.setXorMaskType(e.currentTarget.value))}),[i]),y=Object(pt.a)(),O=y.t,g=y.i18n,m=Object(r.useCallback)((function(e){g.changeLanguage(e.currentTarget.value)}),[g]);return Object(a.jsxs)(ut.a,{isOpen:e,onRequestClose:s,shouldCloseOnEsc:!1,className:"modal-content",children:[Object(a.jsxs)("fieldset",{children:[Object(a.jsx)("legend",{children:O("grid option")}),Object(a.jsx)("div",{className:"enable-grid",children:Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:t.display,onChange:u}),O("enable grid")]})}),Object(a.jsxs)("div",{className:"grid-option",children:[Object(a.jsx)("div",{children:O("grid origin x")})," ",Object(a.jsx)("input",{type:"number",value:t.originX,min:0,max:200,onChange:p,disabled:!t.display})," ",Object(a.jsx)("div",{children:O("grid origin y")})," ",Object(a.jsx)("input",{type:"number",value:t.originY,min:0,max:200,onChange:d,disabled:!t.display}),Object(a.jsx)("div",{children:O("grid spacing x")})," ",Object(a.jsx)("input",{type:"number",value:t.spacingX,min:2,max:200,onChange:h,disabled:!t.display})," ",Object(a.jsx)("div",{children:O("grid spacing y")})," ",Object(a.jsx)("input",{type:"number",value:t.spacingY,min:2,max:200,onChange:v,disabled:!t.display})]})]}),Object(a.jsxs)("div",{className:"general-option",children:[Object(a.jsx)("div",{children:O("glyph font style")})," ",Object(a.jsxs)("select",{value:n,onChange:f,children:[Object(a.jsx)("option",{value:0,children:O("mincho style")}),Object(a.jsx)("option",{value:1,children:O("gothic style")})]}),Object(a.jsx)("div",{children:O("show stroke center line")})," ",Object(a.jsxs)("select",{value:o,onChange:b,children:[Object(a.jsx)("option",{value:0,children:O("show stroke center line none")}),Object(a.jsx)("option",{value:1,children:O("show stroke center line selection")}),Object(a.jsx)("option",{value:2,children:O("show stroke center line always")})]}),Object(a.jsx)("div",{children:O("negative mask type")})," ",Object(a.jsx)("select",{value:c,onChange:j,children:ht.map((function(e){return Object(a.jsx)("option",{value:e,children:O("negative mask type ".concat(e))},e)}))}),Object(a.jsx)("div",{children:O("display language")})," ",Object(a.jsxs)("select",{value:g.language,onChange:m,children:[Object(a.jsx)("option",{value:"ja",children:"\u65e5\u672c\u8a9e"}),Object(a.jsx)("option",{value:"en",children:"English"}),Object(a.jsx)("option",{value:"ko",children:"\ud55c\uad6d\uc5b4"}),Object(a.jsx)("option",{value:"zh-Hans",children:"\u7b80\u4f53\u4e2d\u6587"}),Object(a.jsx)("option",{value:"zh-Hant",children:"\u7e41\u9ad4\u4e2d\u6587"})]})]}),Object(a.jsx)("div",{className:"close-option",children:Object(a.jsx)("button",{onClick:s,children:O("close modal")})})]})},bt=function(){return Object(a.jsx)(a.Fragment,{children:ht.map((function(e){return Object(a.jsx)("path",{id:"xormask_".concat(e),d:dt[e]},e)}))})},jt=(n(90),function(){var e=Object(l.d)((function(e){return e.grid}));if(!e.display)return Object(a.jsx)(a.Fragment,{});for(var t=[],n=e.originX;n<200;n+=e.spacingX)t.push(n);for(var r=[],c=e.originY;c<200;c+=e.spacingY)r.push(c);return Object(a.jsxs)("g",{className:"grid-lines",children:[t.map((function(e){return Object(a.jsx)("path",{d:"M ".concat(e," 0 V 200")},e)})),r.map((function(e){return Object(a.jsx)("path",{d:"M 0 ".concat(e," H 200")},e)}))]})}),yt=function(e){return Object(a.jsx)(a.Fragment,{children:e.polygons.array.map((function(e,t){return Object(a.jsx)("polygon",{points:e.array.map((function(e){var t=e.x,n=e.y;return"".concat(t,",").concat(n," ")})).join("")},t)}))})},Ot=(n(91),function(e){var t=(e.makeGlyphSeparated||Ee)(e.glyph,e.buhinMap,e.shotai),n=e.selection,r=t.map((function(e,t){return t})).filter((function(e){return!n.includes(e)}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("g",{className:"strokes-deselected",children:r.map((function(n){return Object(a.jsx)("g",{onMouseDown:function(t){var a;return null===(a=e.handleMouseDownDeselectedStroke)||void 0===a?void 0:a.call(e,t,n)},children:Object(a.jsx)(yt,{polygons:t[n]})},n)}))}),"none"!==e.xorMaskType&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("use",{xlinkHref:"#xormask_".concat(e.xorMaskType),className:"xormask-fill"}),Object(a.jsx)("clipPath",{id:"xorMaskClip",children:Object(a.jsx)("use",{xlinkHref:"#xormask_".concat(e.xorMaskType)})}),Object(a.jsx)("g",{clipPath:"url(#xorMaskClip)",className:"strokes-invert",children:r.map((function(e){return Object(a.jsx)("g",{children:Object(a.jsx)(yt,{polygons:t[e]})},e)}))})]}),Object(a.jsx)("g",{className:"strokes-selected",children:n.map((function(n){return Object(a.jsx)("g",{onMouseDown:function(t){var a;return null===(a=e.handleMouseDownSelectedStroke)||void 0===a?void 0:a.call(e,t,n)},children:Object(a.jsx)(yt,{polygons:t[n]})},n)}))})]})}),gt=(n(92),function(e){var t=qe(e.glyph,e.buhinMap);return Object(a.jsx)("g",{className:"stroke-center-line",children:t.map((function(e,t){var n=e.value;switch(n[0]){case 1:return Object(a.jsx)("path",{d:"M ".concat(n[3]," ").concat(n[4]," ").concat(n[5]," ").concat(n[6])},t);case 2:return Object(a.jsx)("path",{d:"M ".concat(n[3]," ").concat(n[4]," Q ").concat(n[5]," ").concat(n[6]," ").concat(n[7]," ").concat(n[8])},t);case 3:case 4:return Object(a.jsx)("path",{d:"M ".concat(n[3]," ").concat(n[4]," ").concat(n[5]," ").concat(n[6]," ").concat(n[7]," ").concat(n[8])},t);case 6:return Object(a.jsx)("path",{d:"M ".concat(n[3]," ").concat(n[4]," C ").concat(n[5]," ").concat(n[6]," ").concat(n[7]," ").concat(n[8]," ").concat(n[9]," ").concat(n[10])},t);case 7:return Object(a.jsx)("path",{d:"M ".concat(n[3]," ").concat(n[4]," ").concat(n[5]," ").concat(n[6]," Q ").concat(n[7]," ").concat(n[8]," ").concat(n[9]," ").concat(n[10])},t);default:return null}}))})});!function(e){e[e.none=0]="none",e[e.online=1]="online",e[e.match=2]="match"}(vt||(vt={}));var mt=function(e,t){var n=e[t.lineIndex],a=(p(n.value[0])-3)/2-1;if(0!==t.pointIndex&&t.pointIndex!==a)return vt.none;for(var r=n.value[3+2*t.pointIndex],c=n.value[3+2*t.pointIndex+1],o=function(e,t,n,a){return e===n&&e===r&&t<=c&&c<=a||t===a&&t===c&&e<=r&&r<=n},i=vt.none,l=0;l<e.length;l++)if(t.lineIndex!==l){var s=e[l];if(![0,9,99].includes(s.value[0])){if(s.value[3]===r&&s.value[4]===c)return vt.match;var u=(p(s.value[0])-3)/2-1;if(s.value[3+2*u]===r&&s.value[3+2*u+1]===c)return vt.match;switch(s.value[0]){case 3:case 4:(o(s.value[3],s.value[4],s.value[5],s.value[6])||o(s.value[5],s.value[6],s.value[7],s.value[8]))&&(i=vt.online);break;case 1:case 7:o(s.value[3],s.value[4],s.value[5],s.value[6])&&(i=vt.online)}}}return i},xt=(n(93),function(e){return Object(a.jsx)("rect",{x:e.x-4,y:e.y-4,width:8,height:8,className:"controlpoint-rect ".concat(e.className||""),onMouseDown:e.handleMouseDown})}),kt=(n(94),Object(Ie.a)([Ae,function(e){return e.selection}],(function(e,t){if(0===t.length)return{rectControl:null,pointControl:[],auxiliaryLines:[],centerLine:null};if(t.length>1){var n=t.map((function(t){return e[t]}));return{rectControl:{multiSelect:!0,coords:Le(n)},pointControl:[],auxiliaryLines:[],centerLine:null}}var a=e[t[0]];switch(a.value[0]){case 0:case 9:case 99:return{rectControl:{multiSelect:!1,coords:[a.value[3],a.value[4],a.value[5],a.value[6]]},pointControl:[],auxiliaryLines:[],centerLine:null};case 1:case 2:case 3:case 4:case 6:case 7:for(var r=[],c=3;c+2<=a.value.length;c+=2){var o=mt(e,{lineIndex:t[0],pointIndex:(c-3)/2}),i="";o===vt.match?i="match":o===vt.online&&(i="online"),r.push({x:a.value[c],y:a.value[c+1],className:i})}var l=[];2!==a.value[0]&&6!==a.value[0]||l.push([a.value[3],a.value[4],a.value[5],a.value[6]]),2!==a.value[0]&&7!==a.value[0]||l.push([a.value[5],a.value[6],a.value[7],a.value[8]]),6!==a.value[0]&&7!==a.value[0]||l.push([a.value[7],a.value[8],a.value[9],a.value[10]]);var s=a.value,u=null;switch(s[0]){case 1:u="M ".concat(s[3]," ").concat(s[4]," ").concat(s[5]," ").concat(s[6]);break;case 2:u="M ".concat(s[3]," ").concat(s[4]," Q ").concat(s[5]," ").concat(s[6]," ").concat(s[7]," ").concat(s[8]);break;case 3:case 4:u="M ".concat(s[3]," ").concat(s[4]," ").concat(s[5]," ").concat(s[6]," ").concat(s[7]," ").concat(s[8]);break;case 6:u="M ".concat(s[3]," ").concat(s[4]," C ").concat(s[5]," ").concat(s[6]," ").concat(s[7]," ").concat(s[8]," ").concat(s[9]," ").concat(s[10]);break;case 7:u="M ".concat(s[3]," ").concat(s[4]," ").concat(s[5]," ").concat(s[6]," Q ").concat(s[7]," ").concat(s[8]," ").concat(s[9]," ").concat(s[10])}return{rectControl:null,pointControl:r,auxiliaryLines:l,centerLine:u};default:return{rectControl:null,pointControl:[],auxiliaryLines:[],centerLine:null}}}))),Mt=function(){var e=Object(l.d)(kt),t=e.rectControl,n=e.pointControl,c=e.auxiliaryLines,o=e.centerLine,i=Object(l.d)((function(e){return e.showStrokeCenterLine})),s=Object(l.c)(),u=Object(r.useCallback)((function(e,t){s(G.startResize([e,t])),e.stopPropagation()}),[s]),p=Object(r.useCallback)((function(e){return u(e,S.north)}),[u]),d=Object(r.useCallback)((function(e){return u(e,S.west)}),[u]),h=Object(r.useCallback)((function(e){return u(e,S.south)}),[u]),v=Object(r.useCallback)((function(e){return u(e,S.east)}),[u]),f=Object(r.useCallback)((function(e){return u(e,S.southeast)}),[u]),b=Object(r.useCallback)((function(e){return u(e,S.southwest)}),[u]),j=Object(r.useCallback)((function(e){return u(e,S.northeast)}),[u]),y=Object(r.useCallback)((function(e){return u(e,S.northwest)}),[u]),O=Object(r.useMemo)((function(){return n.map((function(e,t){return function(e){s(G.startPointDrag([e,t])),e.stopPropagation()}}))}),[s,n]),g=!t||t.coords[0]<t.coords[2]?"north":"south",m=!t||t.coords[0]<t.coords[2]?"south":"north",x=!t||t.coords[1]<t.coords[3]?"west":"east",k=!t||t.coords[1]<t.coords[3]?"east":"west";return Object(a.jsxs)(a.Fragment,{children:[t&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("rect",{className:"selection-rect",x:Math.min(t.coords[0],t.coords[2]),y:Math.min(t.coords[1],t.coords[3]),width:Math.abs(t.coords[2]-t.coords[0]),height:Math.abs(t.coords[3]-t.coords[1])}),Object(a.jsx)(xt,{x:(t.coords[0]+t.coords[2])/2,y:t.coords[1],className:g,handleMouseDown:p}),Object(a.jsx)(xt,{x:t.coords[0],y:(t.coords[1]+t.coords[3])/2,className:x,handleMouseDown:d}),Object(a.jsx)(xt,{x:(t.coords[0]+t.coords[2])/2,y:t.coords[3],className:m,handleMouseDown:h}),Object(a.jsx)(xt,{x:t.coords[2],y:(t.coords[1]+t.coords[3])/2,className:k,handleMouseDown:v}),Object(a.jsx)(xt,{x:t.coords[2],y:t.coords[3],className:m+k,handleMouseDown:f}),Object(a.jsx)(xt,{x:t.coords[0],y:t.coords[3],className:m+x,handleMouseDown:b}),Object(a.jsx)(xt,{x:t.coords[2],y:t.coords[1],className:g+k,handleMouseDown:j}),Object(a.jsx)(xt,{x:t.coords[0],y:t.coords[1],className:g+x,handleMouseDown:y})]}),c.map((function(e,t){return Object(a.jsx)("path",{className:"auxiliary-lines",d:"M "+e.join(" ")},t)})),i===$e.selection&&o&&Object(a.jsx)("path",{className:"stroke-center-line",d:o}),n.map((function(e,t){var n=e.x,r=e.y,c=e.className;return Object(a.jsx)(xt,{x:n,y:r,className:c,handleMouseDown:O[t]},t)}))]})},St=(n(95),function(e){if(!e.rect)return null;var t=Object(_.a)(e.rect,4),n=t[0],r=t[1],c=t[2],o=t[3];if(n>c){var i=n;n=c,c=i}if(r>o){var l=r;r=o,o=l}return Object(a.jsx)("rect",{className:"areaselect-rect",x:n,y:r,width:c-n,height:o-r})}),wt=(n(96),function(){var e=Object(l.d)(Ae),t=Object(l.d)((function(e){return e.buhinMap})),n=Object(l.d)((function(e){return e.shotai})),c=Object(l.d)((function(e){return e.xorMaskType})),o=Object(l.d)((function(e){return e.selection})),i=Object(l.d)((function(e){return e.areaSelectRect})),s=Object(l.d)((function(e){return e.freehandMode})),u=Object(l.d)((function(e){return e.showStrokeCenterLine})),p=s?"freehand":"",d=Object(l.c)(),h=Object(r.useCallback)((function(e){var t=e.currentTarget.getScreenCTM();if(t){var n=e.currentTarget.createSVGPoint(),a=t.inverse();d(G.updateCTMInv((function(e,t){n.x=e,n.y=t;var r=n.matrixTransform(a);return[r.x,r.y]})))}}),[d]),v=Object(r.useCallback)((function(e){e.shiftKey||e.ctrlKey||d(D.selectNone()),d(G.startBackgroundDrag(e)),e.preventDefault()}),[d]),f=Object(r.useCallback)((function(e,t){e.shiftKey||e.ctrlKey?d(D.selectAddSingle(t)):d(D.selectSingle(t)),d(G.startSelectionDrag(e)),e.preventDefault(),e.stopPropagation()}),[d]),b=Object(r.useCallback)((function(e,t){(e.shiftKey||e.ctrlKey)&&d(D.selectRemoveSingle(t)),d(G.startSelectionDrag(e)),e.preventDefault(),e.stopPropagation()}),[d]);return Object(r.useEffect)((function(){var e=function(e){d(G.mouseMove(e))},t=function(e){d(G.mouseUp(e))};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[d]),Object(a.jsx)("div",{className:"glyph-area",children:Object(a.jsxs)("svg",{width:"100%",height:"100%",viewBox:"-20 -20 500 240",className:p,onContextMenu:function(e){return e.preventDefault()},onMouseDownCapture:h,onMouseDown:v,children:[Object(a.jsx)("defs",{children:Object(a.jsx)(bt,{})}),Object(a.jsx)(jt,{}),Object(a.jsx)("rect",{x:"0",y:"0",width:"200",height:"200",className:"glyph-boundary"}),Object(a.jsx)("rect",{x:"12",y:"12",width:"176",height:"176",className:"glyph-guide"}),Object(a.jsx)(Ot,{glyph:e,buhinMap:t,shotai:n,xorMaskType:c,selection:o,handleMouseDownDeselectedStroke:f,handleMouseDownSelectedStroke:b}),u===$e.always&&Object(a.jsx)(gt,{glyph:e,buhinMap:t}),Object(a.jsx)(Mt,{}),Object(a.jsx)(St,{rect:i})]})})}),Ct=(n(97),Object(Ie.a)([function(e){return e.selection},Ae],(function(e,t){return 1!==e.length?null:t[e[0]]}))),Tt=Object(Ie.a)([Ct],(function(e){if(!e)return null;if(!Fe.includes(e.value[0]))return null;for(var t=[],n=3;n+2<=e.value.length;n+=2)t.push("(".concat(e.value[n],",").concat(e.value[n+1],")"));return{strokeType:e.value[0],headShapeType:e.value[1],tailShapeType:e.value[2],validTypes:Ke(e),coordString:t.join(" \u2192 ")}})),Et=Object(Ie.a)([Ct,function(e){return e.buhinMap},function(e){return e.stretchParamMap}],(function(e,t,n){if(!e)return null;if(99!==e.value[0])return null;var a=e.partName,r=t.get(a),c=null;if(r){var o=/^(?:0:1:0:[^$]+\$)?99:0:0:0:0:200:200:([^$]+)$/.exec(r);o&&(c=o[1])}var i=n.get(a),l=i?ze(i,Xe(e)):null;return{partName:a,entityName:c,coordString:"(".concat(e.value[3],",").concat(e.value[4],") \u2192 (").concat(e.value[5],",").concat(e.value[6],")"),stretchCoeff:l}})),Nt=Object(Ie.a)([Ct],(function(e){var t;return e?0!==e.value[0]?null:{opType:null!==(t=Je.find((function(t){var n=Object(_.a)(Ze[t],2),a=n[0],r=n[1];return a===e.value[1]&&r===e.value[2]})))&&void 0!==t?t:-1,coordString:"(".concat(e.value[3],",").concat(e.value[4],") \u2192 (").concat(e.value[5],",").concat(e.value[6],")")}:null})),It=Object(Ie.a)([function(e){return e.selection},Ct],(function(e,t){if(e.length>1)return{isMultiple:!0};if(0===e.length)return{isMultiple:!1};var n=t,a=n.value[0];if(Fe.includes(a)||99===a||0===a)return null;for(var r=[],c=3;c+2<=n.value.length;c+=2)r.push("(".concat(n.value[c],",").concat(n.value[c+1],")"));return{isMultiple:!1,coordString:r.join(" \u2192 ")}})),Dt=Object(Ie.a)([function(e){return e.glyph.length},function(e){return e.selection}],(function(e,t){var n=t.map((function(e){return e+1})).sort((function(e,t){return e-t})).join(",");return"".concat(n||"-"," / ").concat(e||"-")})),Rt=Object(Ie.a)([function(e){return e.glyph.length},function(e){return e.selection}],(function(e,t){return{swapPrevDisabled:1!==t.length||0===t[0],swapNextDisabled:1!==t.length||t[0]===e-1,selectPrevDisabled:0===e,selectNextDisabled:0===e}})),_t=function(){var e=Object(l.d)(Tt),t=Object(l.d)(Et),n=Object(l.d)(Nt),c=Object(l.d)(It),o=Object(l.d)(Dt),i=Object(l.d)(Rt,l.b),s=i.swapPrevDisabled,u=i.swapNextDisabled,p=i.selectPrevDisabled,d=i.selectNextDisabled,h=Object(l.c)(),v=Object(r.useCallback)((function(e){h(fe.changeStrokeType(+e.currentTarget.value))}),[h]),f=Object(r.useCallback)((function(e){h(fe.changeHeadShapeType(+e.currentTarget.value))}),[h]),b=Object(r.useCallback)((function(e){h(fe.changeTailShapeType(+e.currentTarget.value))}),[h]),j=Object(r.useCallback)((function(e){h(fe.changeStretchCoeff(+e.currentTarget.value))}),[h]),y=Object(r.useCallback)((function(e){h(fe.changeReflectRotateOpType(+e.currentTarget.value))}),[h]),O=Object(r.useCallback)((function(){h(D.selectPrev())}),[h]),g=Object(r.useCallback)((function(){h(D.selectNext())}),[h]),m=Object(r.useCallback)((function(){h(fe.swapWithPrev())}),[h]),x=Object(r.useCallback)((function(){h(fe.swapWithNext())}),[h]),k=Object(pt.a)().t;return Object(a.jsxs)("div",{className:"select-control",children:[Object(a.jsxs)("div",{className:"selected-info",children:[e&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[k("stroke type")," ",Object(a.jsxs)("select",{value:e.strokeType,onChange:v,children:[Fe.map((function(e){return Object(a.jsx)("option",{value:e,children:k("stroke type ".concat(e))},e)})),!Fe.includes(e.strokeType)&&Object(a.jsx)("option",{value:e.strokeType})]}),"\u3000",k("head type")," ",Object(a.jsxs)("select",{value:e.headShapeType,onChange:f,children:[Ue[e.strokeType].map((function(t){return Object(a.jsx)("option",{value:t,children:k("head type ".concat(e.strokeType,"-").concat(t))},t)})),!Ue[e.strokeType].includes(e.headShapeType)&&Object(a.jsx)("option",{value:e.headShapeType})]}),"\u3000",k("tail type")," ",Object(a.jsxs)("select",{value:e.tailShapeType,onChange:b,children:[We[e.strokeType].map((function(t){return Object(a.jsx)("option",{value:t,children:k("tail type ".concat(e.strokeType,"-").concat(t))},t)})),!We[e.strokeType].includes(e.tailShapeType)&&Object(a.jsx)("option",{value:e.tailShapeType})]}),!e.validTypes&&Object(a.jsxs)("span",{className:"alert",children:["\u3000",k("invalid stroke shape types")]})]}),Object(a.jsx)("div",{children:e.coordString})]}),t&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[k("part")," ",Object(a.jsx)("strong",{children:t.partName})," ",t.entityName&&k("alias of",{entity:t.entityName})]}),Object(a.jsx)("div",{children:t.coordString}),null!==t.stretchCoeff&&Object(a.jsxs)("div",{children:[k("stretch")," ",Object(a.jsx)("input",{type:"range",min:-10,max:10,value:t.stretchCoeff,onChange:j})," ",t.stretchCoeff]})]}),n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{children:Object(a.jsxs)("select",{value:n.opType,onChange:y,children:[Je.map((function(e){return Object(a.jsx)("option",{value:e,children:k("operation type ".concat(Y[e]))},e)})),!Je.includes(n.opType)&&Object(a.jsx)("option",{value:n.opType})]})}),Object(a.jsx)("div",{children:n.coordString})]}),c&&Object(a.jsxs)(a.Fragment,{children:[c.isMultiple&&Object(a.jsx)("div",{children:k("selecting multiple strokes")}),c.coordString&&Object(a.jsx)("div",{children:c.coordString})]})]}),Object(a.jsxs)("div",{className:"selection-control",children:[Object(a.jsx)("button",{disabled:s,onClick:m,children:k("swap with prev")}),Object(a.jsx)("button",{className:"select-prevnext-button",disabled:p,onClick:O,children:k("select prev")}),Object(a.jsx)("div",{className:"selection-num",children:o}),Object(a.jsx)("button",{className:"select-prevnext-button",disabled:d,onClick:g,children:k("select next")}),Object(a.jsx)("button",{disabled:u,onClick:x,children:k("swap with next")})]})]})},Lt=Object(Ie.a)([Ae],(function(e){return e.filter((function(e){return Re(e)[0]<200}))})),Pt=function(){var e=Object(l.d)(Lt),t=Object(l.d)((function(e){return e.buhinMap})),n=Object(l.d)((function(e){return e.shotai})),r=Object(l.d)((function(e){return e.xorMaskType}));return Object(a.jsx)("svg",{className:"preview-thumbnail",viewBox:"0 0 200 200",width:"50",height:"50",children:Object(a.jsx)(Ot,{buhinMap:t,glyph:e,shotai:n,xorMaskType:r,selection:[],makeGlyphSeparated:Ne})})},At=(n(98),function(){var e=Object(l.d)((function(e){return e.glyph})),t=Object(l.d)((function(e){return e.selection})),n=Object(l.d)((function(e){return e.clipboard})),c=Object(l.d)((function(e){return e.freehandMode})),o=0===Object(l.d)((function(e){return e.undoStacks.undo.length})),i=0===Object(l.d)((function(e){return e.undoStacks.redo.length})),s=0===n.length,u=!t.some((function(t){return 99===e[t].value[0]})),p=Object(l.c)(),d=Object(r.useCallback)((function(){p(ct.undo())}),[p]),h=Object(r.useCallback)((function(){p(ct.redo())}),[p]),v=Object(r.useCallback)((function(){p(D.selectAll())}),[p]),f=Object(r.useCallback)((function(){p(D.selectDeselected())}),[p]),b=Object(r.useCallback)((function(){p(fe.copy())}),[p]),j=Object(r.useCallback)((function(){p(fe.paste())}),[p]),y=Object(r.useCallback)((function(){p(fe.cut())}),[p]),O=Object(r.useCallback)((function(){p(fe.toggleFreehand())}),[p]),g=Object(r.useCallback)((function(){p(fe.decomposeSelected())}),[p]),m=Object(r.useCallback)((function(){p(nt.openOptionModal())}),[p]),x=Object(r.useCallback)((function(e){p(fe.finishEdit(e.nativeEvent))}),[p]),k=Object(pt.a)().t;return Object(a.jsxs)("div",{className:"editor-controls",children:[Object(a.jsx)(_t,{}),Object(a.jsxs)("div",{className:"control-buttons",children:[Object(a.jsx)("button",{disabled:o,onClick:d,children:k("undo")}),Object(a.jsx)("button",{disabled:i,onClick:h,children:k("redo")}),Object(a.jsx)("button",{disabled:0===e.length,onClick:v,children:k("select all")}),Object(a.jsx)("button",{disabled:0===e.length,onClick:f,children:k("invert selection")}),Object(a.jsx)("button",{disabled:0===t.length,onClick:b,children:k("copy")}),Object(a.jsx)("button",{disabled:s,onClick:j,children:k("paste")}),Object(a.jsx)("button",{disabled:0===t.length,onClick:y,children:k("cut")}),Object(a.jsx)("button",{onClick:O,children:k(c?"end freehand":"start freehand")}),Object(a.jsx)("button",{disabled:u,onClick:g,children:k("decompose")}),Object(a.jsx)("button",{onClick:m,children:k("options")})]}),Object(a.jsxs)("div",{className:"preview",children:[Object(a.jsx)(Pt,{}),Object(a.jsx)("button",{onClick:x,children:k("finish edit")})]})]})}),Yt=n(50),Xt=n(51),Gt=n(57),Ht=n(58),zt=(n(99),function(e){return"https://glyphwiki.org/glyph/".concat(e,".50px.png")}),qt=function(e){var t=e.handleItemClick,n=e.handleItemMouseEnter,c=e.handleItemMouseLeave,o=Object(r.useCallback)((function(e){var n=e.currentTarget.dataset.name;t(n,e)}),[t]),i=Object(r.useCallback)((function(e){var t=e.currentTarget.dataset.name;n(t,e)}),[n]),l=Object(r.useCallback)((function(e){c(e)}),[c]);return Object(a.jsx)("div",{className:"parts-list",children:e.names.map((function(e){return Object(a.jsx)("img",{alt:e,title:e,"data-name":e,src:zt(e),width:50,height:50,loading:"lazy",onClick:o,onMouseEnter:i,onMouseLeave:l},e)}))})},Ft=(n(100),["\u30a8\u30c7\u30a3\u30bf\u90e8\u54c11","\u30a8\u30c7\u30a3\u30bf\u90e8\u54c12","\u30a8\u30c7\u30a3\u30bf\u90e8\u54c13","\u30a8\u30c7\u30a3\u30bf\u90e8\u54c14"]),Ut=w.name||"",Wt=function(e){Object(Xt.a)(n,e);var t=Object(Gt.a)(n);function n(){return Object(Yt.a)(this,n),t.apply(this,arguments)}return n}(Object(Ht.a)(Error)),Bt={query:"",result:[],err:null},Kt=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(Bt),n=Object(_.a)(t,2),c=n[0],o=n[1],i=function(e){o({query:e,result:null,err:null}),me(e).then((function(e){if("tooshort"===e)throw new Wt("query too short");return"nodata"===e?[]:e.split("\t")})).then((function(t){return{query:e,result:t,err:null}})).catch((function(t){return{query:e,result:null,err:t}})).then((function(t){o((function(n){return n.query===e?t:n}))}))};Object(r.useEffect)((function(){Ut&&i(Ut)}),[]);var s=Object(r.useCallback)((function(){if(e.current){var t=e.current.value;t?i(t):o({query:t,result:[],err:null})}}),[]),u=Object(r.useCallback)((function(e){e.preventDefault(),p.current&&(p.current.textContent="\xa0"),s()}),[s]),p=Object(r.useRef)(null),d=Object(r.useCallback)((function(e){p.current&&(p.current.textContent=e)}),[]),h=Object(r.useCallback)((function(){p.current&&(p.current.textContent="\xa0")}),[]),v=Object(l.c)(),f=Object(r.useCallback)((function(t,n){if(n.shiftKey||n.ctrlKey){if(!e.current)return;e.current.value=t,i(t)}else v(fe.insertPart(t))}),[v]),b=Object(pt.a)().t;return Object(a.jsxs)("div",{className:"parts-search-area",children:[Object(a.jsxs)("form",{className:"parts-search-box",onSubmit:u,children:[Object(a.jsx)("input",{defaultValue:Ut,list:"searchList",ref:e}),Object(a.jsx)("button",{children:b("search")}),Object(a.jsx)("datalist",{id:"searchList",children:Ft.map((function(e,t){return Object(a.jsx)("option",{value:e},t)}))})]}),Object(a.jsx)("div",{className:"parts-list-area",children:c.err?c.err instanceof Wt?Object(a.jsx)("div",{className:"message",children:b("search query too short")}):Object(a.jsx)("div",{className:"message",children:b("search error",{message:c.err})}):c.result?0===c.result.length?Object(a.jsx)("div",{className:"message",children:b("no search result")}):Object(a.jsx)(qt,{names:c.result,handleItemClick:f,handleItemMouseEnter:d,handleItemMouseLeave:h}):Object(a.jsx)("div",{className:"message",children:b("searching")})}),Object(a.jsx)("div",{className:"parts-hover-name",ref:p,children:"\xa0"})]})},Vt=w.name||"sandbox",$t="".concat(w.ssl?"https":"http","://").concat(w.host,"/wiki/").concat(encodeURIComponent(Vt)),Jt={visibility:"hidden",position:"absolute"},Zt=function(){var e=Object(l.d)((function(e){return e.exitEvent})),t=Object(r.useRef)(null);Object(r.useEffect)((function(){var n;e&&(null===(n=t.current)||void 0===n||n.submit())}),[e]);var n=Object(l.d)(Lt);return Object(a.jsxs)("form",{style:Jt,ref:t,action:$t,method:"get",children:[Object(a.jsx)("input",{type:"hidden",name:"page",value:Vt}),Object(a.jsx)("input",{type:"hidden",name:"action",value:"preview"}),Object(a.jsx)("input",{type:"hidden",name:"textbox",value:v(n)}),Object(a.jsx)("input",{type:"hidden",name:"related",value:w.related}),Object(a.jsx)("input",{type:"hidden",name:"summary",value:w.summary}),w.edittime&&Object(a.jsx)("input",{type:"hidden",name:"edittime",value:w.edittime})]})},Qt=n(5);n(101);var en=function(){var e=Object(pt.a)().i18n,t=Object(l.d)((function(e){return e.areaSelectRect})),n=Object(l.d)((function(e){return e.freehandStroke}));return function(){var e=Object(l.c)();Object(Qt.a)("ctrl+a, command+a",(function(t){e(D.selectAll()),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+i, command+i",(function(t){e(D.selectDeselected()),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+z, command+z",(function(t){e(ct.undo()),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+y, command+y, ctrl+shift+z, command+shift+z",(function(t){e(ct.redo()),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+x, command+x",(function(t){e(fe.cut()),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+c, command+c",(function(t){e(fe.copy()),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+v, command+v",(function(t){e(fe.paste()),t.preventDefault()}),{},[e]),Object(Qt.a)("del",(function(t){e(fe.delete()),t.preventDefault()}),{},[e]),Object(Qt.a)("esc",(function(){e(fe.escape())}),{},[e]),Object(Qt.a)("ctrl+h, left",(function(t){e(fe.moveSelected([-1,0])),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+j, down",(function(t){e(fe.moveSelected([0,1])),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+k, up",(function(t){e(fe.moveSelected([0,-1])),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+l, right",(function(t){e(fe.moveSelected([1,0])),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+shift+h, shift+left",(function(t){e(fe.moveSelected([-5,0])),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+shift+j, shift+down",(function(t){e(fe.moveSelected([0,5])),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+shift+k, shift+up",(function(t){e(fe.moveSelected([0,-5])),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+shift+l, shift+right",(function(t){e(fe.moveSelected([5,0])),t.preventDefault()}),{},[e]),Object(Qt.a)("ctrl+s, command+s",(function(t){e(fe.finishEdit(t)),t.preventDefault()}),{},[e])}(),Object(a.jsxs)("div",{className:"App"+(t||n?" background-dragging":""),lang:e.language,children:[Object(a.jsx)(wt,{}),Object(a.jsx)(At,{}),Object(a.jsx)(Kt,{}),Object(a.jsx)(Zt,{}),Object(a.jsx)(ft,{})]})},tn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},nn=n(36),an=n(22),rn={ja:{translation:n(52)},en:{translation:n(53)},ko:{translation:n(54)},"zh-Hans":{translation:n(55)},"zh-Hant":{translation:n(56)}},cn="ja";switch(w.host.split(".")[0]){case"en":cn="en";break;case"ko":cn="ko";break;case"zhs":cn="zh-Hans";break;case"zht":cn="zh-Hant"}nn.a.use(an.e).init({resources:rn,lng:cn,fallbackLng:{"zh-Hans":["zh-Hant","ja"],"zh-Hant":["zh-Hans","ja"],default:["ja"]},returnObjects:!0,interpolation:{escapeValue:!1}});nn.a,n(102);i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(l.a,{store:lt,children:Object(a.jsx)(en,{})})}),document.getElementById("root")),tn()},52:function(e){e.exports=JSON.parse('{"stroke type":"\u7dda\u7a2e","stroke type 1":"\u76f4\u7dda","stroke type 2":"\u66f2\u7dda","stroke type 3":"\u6298\u308c","stroke type 4":"\u4e59\u7dda","stroke type 6":"\u8907\u66f2\u7dda","stroke type 7":"\u7e26\u6255\u3044","head type":"\u982d\u5f62\u72b6","head type 1-0":"\u958b\u653e","head type 1-2":"\u63a5\u7d9a(\u6a2a)","head type 1-32":"\u63a5\u7d9a(\u7e26)","head type 1-12":"\u5de6\u4e0a\u30ab\u30c9","head type 1-22":"\u53f3\u4e0a\u30ab\u30c9","head type 2-0":"\u958b\u653e","head type 2-32":"\u63a5\u7d9a","head type 2-12":"\u5de6\u4e0a\u30ab\u30c9","head type 2-22":"\u53f3\u4e0a\u30ab\u30c9","head type 2-7":"\u7d30\u5165\u308a","head type 2-27":"\u5c4b\u6839\u4ed8\u304d\u7d30\u5165\u308a","head type 3-0":"\u958b\u653e","head type 3-32":"\u63a5\u7d9a(\u7e26)","head type 3-12":"\u5de6\u4e0a\u30ab\u30c9","head type 3-22":"\u53f3\u4e0a\u30ab\u30c9","head type 4-0":"\u958b\u653e","head type 4-22":"\u53f3\u4e0a\u30ab\u30c9","head type 6-0":"\u958b\u653e","head type 6-32":"\u63a5\u7d9a","head type 6-12":"\u5de6\u4e0a\u30ab\u30c9","head type 6-22":"\u53f3\u4e0a\u30ab\u30c9","head type 6-7":"\u7d30\u5165\u308a","head type 6-27":"\u5c4b\u6839\u4ed8\u304d\u7d30\u5165\u308a","head type 7-0":"\u958b\u653e","head type 7-32":"\u63a5\u7d9a","head type 7-12":"\u5de6\u4e0a\u30ab\u30c9","head type 7-22":"\u53f3\u4e0a\u30ab\u30c9","tail type":"\u5c3e\u5f62\u72b6","tail type 1-0":"\u958b\u653e","tail type 1-2":"\u63a5\u7d9a(\u6a2a)","tail type 1-32":"\u63a5\u7d9a(\u7e26)","tail type 1-13":"\u5de6\u4e0b\u30ab\u30c9","tail type 1-23":"\u53f3\u4e0b\u30ab\u30c9","tail type 1-4":"\u5de6\u30cf\u30cd","tail type 1-313":"\u5de6\u4e0bzh\u7528\u65e7","tail type 1-413":"\u5de6\u4e0bzh\u7528\u65b0","tail type 1-24":"\u53f3\u4e0bH/T","tail type 2-7":"\u5de6\u6255\u3044","tail type 2-0":"\u53f3\u6255\u3044","tail type 2-8":"\u6b62\u3081","tail type 2-4":"\u5de6\u30cf\u30cd","tail type 2-5":"\u53f3\u30cf\u30cd","tail type 3-0":"\u958b\u653e","tail type 3-5":"\u4e0a\u30cf\u30cd","tail type 4-0":"\u958b\u653e","tail type 4-5":"\u4e0a\u30cf\u30cd","tail type 6-7":"\u5de6\u6255\u3044","tail type 6-0":"\u53f3\u6255\u3044","tail type 6-8":"\u6b62\u3081","tail type 6-4":"\u5de6\u30cf\u30cd","tail type 6-5":"\u53f3\u30cf\u30cd","tail type 7-7":"\u5de6\u6255\u3044","invalid stroke shape types":"\u30a8\u30e9\u30fc\uff1a\u3042\u308a\u3048\u306a\u3044\u7b46\u753b\u30fb\u5f62\u72b6\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u3059","part":"\u90e8\u54c1","alias of":"({{entity}} \u306e\u30a8\u30a4\u30ea\u30a2\u30b9)","stretch":"\u30b9\u30c8\u30ec\u30c3\u30c1\uff1a","operation type reflectX":"\u5de6\u53f3\u53cd\u8ee2","operation type reflectY":"\u4e0a\u4e0b\u53cd\u8ee2","operation type rotate90":"\u56de\u8ee2(90\u5ea6)","operation type rotate180":"\u56de\u8ee2(180\u5ea6)","operation type rotate270":"\u56de\u8ee2(270\u5ea6)","selecting multiple strokes":"\u8907\u6570\u9078\u629e\u4e2d","select prev":"\u2190","swap with prev":"\u5165\u66ff\u2190","select next":"\u2192","swap with next":"\u2192\u5165\u66ff","undo":"\u5143\u306b\u623b\u3059","redo":"\u3084\u308a\u76f4\u3059","select all":"\u3059\u3079\u3066\u3092\u9078\u629e","invert selection":"\u9078\u629e\u7bc4\u56f2\u3092\u53cd\u8ee2","copy":"\u30b3\u30d4\u30fc","paste":"\u8cbc\u308a\u4ed8\u3051","cut":"\u5207\u308a\u53d6\u308a","start freehand":"\u624b\u66f8\u304d\u958b\u59cb","end freehand":"\u624b\u66f8\u304d\u7d42\u4e86","decompose":"\u90e8\u54c1\u5206\u89e3","options":"\u8a2d\u5b9a...","finish edit":"\u7de8\u96c6\u7d42\u4e86","search":"\u691c\u7d22","searching":"\u691c\u7d22\u4e2d","search error":"\u30a8\u30e9\u30fc:{{message}}","search query too short":"\u30a8\u30e9\u30fc\uff1a\u30ad\u30fc\u30ef\u30fc\u30c9\u304c\u77ed\u3059\u304e\u307e\u3059","no search result":"\u8a72\u5f53\u90e8\u54c1\u306a\u3057","grid option":"\u30b0\u30ea\u30c3\u30c9","enable grid":"\u6709\u52b9\u306b\u3059\u308b","grid origin x":"\u958b\u59cbX","grid origin y":"\u958b\u59cbY","grid spacing x":"\u9593\u9694X","grid spacing y":"\u9593\u9694Y","glyph font style":"\u66f8\u4f53","mincho style":"\u660e\u671d","gothic style":"\u30b4\u30b7\u30c3\u30af","show stroke center line":"\u4e2d\u5fc3\u7dda","show stroke center line none":"\u8868\u793a\u3057\u306a\u3044","show stroke center line selection":"\u9078\u629e\u306e\u307f\u8868\u793a","show stroke center line always":"\u5e38\u306b\u8868\u793a","negative mask type":"\u767d\u629c\u304d","negative mask type none":"\u306a\u3057","negative mask type circle":"\u4e38","negative mask type squareWithRoundedCorners":"\u89d2\u4e38\u56db\u89d2","negative mask type square":"\u56db\u89d2","negative mask type diamond":"\u83f1\u5f62","display language":"\u8868\u793a\u8a00\u8a9e","close modal":"\u9589\u3058\u308b"}')},53:function(e){e.exports=JSON.parse('{"stroke type":"Type","stroke type 1":"straight line","stroke type 2":"curve","stroke type 3":"bend line","stroke type 4":"OTSU curve","stroke type 6":"cmplx. curve","stroke type 7":"vert slash","head type":"Head","head type 1-0":"free","head type 1-2":"connect(h)","head type 1-32":"connect(v)","head type 1-12":"L-top corner.","head type 1-22":"R-top corner","head type 2-0":"free","head type 2-32":"connect","head type 2-12":"L-top corner","head type 2-22":"R-top corner","head type 2-7":"narrow fot dot","head type 2-27":"roofed narrow","head type 3-0":"free","head type 3-32":"connect(v)","head type 3-12":"L-top corner","head type 3-22":"R-top corner","head type 4-0":"free","head type 4-22":"R-top corner","head type 6-0":"free","head type 6-32":"connect","head type 6-12":"L-top corner","head type 6-22":"R-top corner","head type 6-7":"narrow for dot","head type 6-27":"roofed narrow","head type 7-0":"free","head type 7-32":"connect","head type 7-12":"L-top corner","head type 7-22":"R-top corner","tail type":"Tail","tail type 1-0":"free","tail type 1-2":"connect(h)","tail type 1-32":"connect(v)","tail type 1-13":"L-btm. corner","tail type 1-23":"R-btm. corner","tail type 1-4":"slash left","tail type 1-313":"L-btm.(zh:old)","tail type 1-413":"L-btm.(zh:new)","tail type 1-24":"R-tbm.(H/T)","tail type 2-7":"slash left","tail type 2-0":"slash right","tail type 2-8":"stop for dot","tail type 2-4":"hook left","tail type 2-5":"hook right","tail type 3-0":"free","tail type 3-5":"hook up","tail type 4-0":"free","tail type 4-5":"hook up","tail type 6-7":"slash left","tail type 6-0":"slash right","tail type 6-8":"stop for dot","tail type 6-4":"hook left","tail type 6-5":"hook right","tail type 7-7":"slash left","invalid stroke shape types":"Error: impossible combination of strokes/shape types","part":"Part","alias of":"(alias of {{entity}})","stretch":"Stretch:","operation type reflectX":"Reflect horizontally","operation type reflectY":"Reflect vertically","operation type rotate90":"Rotate (90 degrees)","operation type rotate180":"Rotate (180 degrees)","operation type rotate270":"Rotate (270 degrees)","selecting multiple strokes":"Selecting multiple items","select prev":"\u2190","swap with prev":"Swap\u2190","select next":"\u2192","swap with next":"\u2192Swap","undo":"Undo","redo":"Redo","select all":"Select All","invert selection":"Invert Selection","copy":"Copy","paste":"Paste","cut":"Cut","start freehand":"Freedraw","end freehand":"Stop freedraw","decompose":"Decompose","options":"Options...","finish edit":"Finish editing","search":"Search","searching":"Searching","search error":"Error: {{message}}","search query too short":"Error: keyword is too short","no search result":"Not Found","grid option":"Grid","enable grid":"Enable","grid origin x":"Origin X","grid origin y":"Origin Y","grid spacing x":"Spacing X","grid spacing y":"Spacing Y","glyph font style":"Font","mincho style":"Mincho","gothic style":"Gothic","show stroke center line":"Center Line","show stroke center line none":"Hidden","show stroke center line selection":"Shown only Selection","show stroke center line always":"Always Shown","negative mask type":"Mask","negative mask type none":"None","negative mask type circle":"Circle","negative mask type squareWithRoundedCorners":"Rounded Square","negative mask type square":"Square","negative mask type diamond":"Diamond","display language":"Language","close modal":"Close"}')},54:function(e){e.exports=JSON.parse('{"stroke type":"\uc120\uc885","stroke type 1":"\uc9c1\uc120","stroke type 2":"\uace1\uc120","stroke type 3":"\uc808\uc120","stroke type 4":"\uc744\uc120","stroke type 6":"\ubcf5\uace1\uc120","stroke type 7":"\uace7\uc740 \uc67c\ube60\uce68","head type":"\uba38\ub9ac \ubaa8\uc591","head type 1-0":"\uac1c\ubc29","head type 1-2":"\uc811\uc18d(\uac00\ub85c)","head type 1-32":"\uc811\uc18d(\uc138\ub85c)","head type 1-12":"\uc67c\ucabd \uc704\uc758 \ubfd4","head type 1-22":"\uc624\ub978\ucabd \uc704\uc758 \ubfd4","head type 2-0":"\uac1c\ubc29","head type 2-32":"\uc811\uc18d","head type 2-12":"\uc67c\ucabd \uc704\uc758 \ubfd4","head type 2-22":"\uc624\ub978\ucabd \uc704\uc758 \ubfd4","head type 2-7":"\uc624\ub978\ube60\uce68","head type 2-27":"\uc9c0\ubd95 \ucca8\ubd80 \uc624\ub978\ube60\uce68","head type 3-0":"\uac1c\ubc29","head type 3-32":"\uc811\uc18d(\uc138\ub85c)","head type 3-12":"\uc67c\ucabd \uc704\uc758 \ubfd4","head type 3-22":"\uc624\ub978\ucabd \uc704\uc758 \ubfd4","head type 4-0":"\uac1c\ubc29","head type 4-22":"\uc624\ub978\ucabd \uc704\uc758 \ubfd4","head type 6-0":"\uac1c\ubc29","head type 6-32":"\uc811\uc18d","head type 6-12":"\uc67c\ucabd \uc704\uc758 \ubfd4","head type 6-22":"\uc624\ub978\ucabd \uc704\uc758 \ubfd4","head type 6-7":"\uc624\ub978\ube60\uce68","head type 6-27":"\uc9c0\ubd95 \ucca8\ubd80 \uc624\ub978\ube60\uce68","head type 7-0":"\uac1c\ubc29","head type 7-32":"\uc811\uc18d","head type 7-12":"\uc67c\ucabd \uc704\uc758 \ubfd4","head type 7-22":"\uc624\ub978\ucabd \uc704\uc758 \ubfd4","tail type":"\uaf2c\ub9ac \ubaa8\uc591","tail type 1-0":"\uac1c\ubc29","tail type 1-2":"\uc811\uc18d(\uac00\ub85c)","tail type 1-32":"\uc811\uc18d(\uc138\ub85c)","tail type 1-13":"\uc67c\ucabd \uc544\ub798\uc758 \ubfd4","tail type 1-23":"\uc624\ub978\ucabd \uc544\ub798\uc758 \ubfd4","tail type 1-4":"\uc67c\ucabd \uac08\uace0\ub9ac","tail type 1-313":"\uc67c\ucabd \uc544\ub798 \uc911\uad6d\uc6a9 \ub0a1\uc74c","tail type 1-413":"\uc67c\ucabd \uc544\ub798 \uc911\uad6d\uc6a9 \uc0c8\ub85c\uc6c0","tail type 1-24":"\uc624\ub978\ucabd \ud64d\ucf69/\ub300\ub9cc\uc6a9","tail type 2-7":"\uc67c\ube60\uce68","tail type 2-0":"\uc624\ub978\ube60\uce68","tail type 2-8":"\uc911\uc9c0","tail type 2-4":"\uc67c\ucabd \uac08\uace0\ub9ac","tail type 2-5":"\uc624\ub978\ucabd \uac08\uace0\ub9ac","tail type 3-0":"\uac1c\ubc29","tail type 3-5":"\uc0c1\ud5a5 \uac08\uace0\ub9ac","tail type 4-0":"\uac1c\ubc29","tail type 4-5":"\uc0c1\ud5a5 \uac08\uace0\ub9ac","tail type 6-7":"\uc67c\ube60\uce68","tail type 6-0":"\uc624\ub978\ube60\uce68","tail type 6-8":"\uc911\uc9c0","tail type 6-4":"\uc67c\ucabd \uac08\uace0\ub9ac","tail type 6-5":"\uc624\ub978\ucabd \uac08\uace0\ub9ac","tail type 7-7":"\uc67c\ube60\uce68","invalid stroke shape types":"\uc624\ub958: \uc874\uc7ac\ud560 \uc218 \uc5c6\ub294 \ud544\ud68d\u30fb\ubaa8\uc591\uc758 \uc870\ud569\uc785\ub2c8\ub2e4","part":"\ubd80\ud488","alias of":"({{entity}}\uc758 \uc5d0\uc77c\ub9ac\uc5b4\uc2a4)","stretch":"\uc2a4\ud2b8\ub808\uce58:","operation type reflectX":"\uc88c\uc6b0 \ubc18\uc804","operation type reflectY":"\uc0c1\ud558 \ubc18\uc804","operation type rotate90":"\ud68c\uc804 (90\ub3c4)","operation type rotate180":"\ud68c\uc804 (180\ub3c4)","operation type rotate270":"\ud68c\uc804 (270\ub3c4)","selecting multiple strokes":"\ubcf5\uc218 \uc120\ud0dd \uc911","select prev":"\u2190","swap with prev":"\uad50\uccb4\u2190","select next":"\u2192","swap with next":"\u2192\uad50\uccb4","undo":"\ub4a4\ub85c \ub3cc\uc544\uac00\ub2e4","redo":"\ub2e4\uc2dc \ud558\ub2e4","select all":"\ubaa8\ub450 \uc120\ud0dd","invert selection":"\uc120\ud0dd \ubc94\uc704\ub97c \ubc18\uc804","copy":"\ubcf5\uc0ac","paste":"\ubd99\uc5ec\ub123\uae30","cut":"\uc798\ub77c\ub0b4\uae30","start freehand":"\uc190\uc218 \uc4f0\uae30 \uc2dc\uc791","end freehand":"\uc190\uc218 \uc4f0\uae30 \uc885\ub8cc","decompose":"\ubd80\ud488 \ubd84\ud574","options":"\uc124\uc815...","finish edit":"\ud3b8\uc9d1 \uc885\ub8cc","search":"\uac80\uc0c9","searching":"\uac80\uc0c9\uc911","search error":"\uc624\ub958: {{message}}","search query too short":"\uc624\ub958: \ud0a4\uc6cc\ub4dc\uac00 \ub108\ubb34 \uc9e7\uc2b5\ub2c8\ub2e4","no search result":"\ud574\ub2f9 \ubd80\ud488 \uc5c6\uc74c","grid option":"\uadf8\ub9ac\ub4dc","enable grid":"\uc720\ud6a8\uc2dc\ud0a4\ub2e4","grid origin x":"\uc2dc\uc791X","grid origin y":"\uc2dc\uc791Y","grid spacing x":"\uac04\uaca9X","grid spacing y":"\uac04\uaca9Y","glyph font style":"\uae00\uaf34","mincho style":"\uba85\uc870","gothic style":"\uace0\ub515","show stroke center line":"\uc911\uc2ec\uc120","show stroke center line none":"\ud45c\uc2dc\ud558\uc9c0 \uc54a\uc74c","show stroke center line selection":"\uc120\ud0dd\ub9cc \ud45c\uc2dc","show stroke center line always":"\ud56d\uc0c1 \ud45c\uc2dc","negative mask type":"\ubc31\uc744 \ub0a8\uae40","negative mask type none":"\uc5c6\uc74c","negative mask type circle":"\ub3d9\uadf8\ub77c\ubbf8","negative mask type squareWithRoundedCorners":"\uc6d0\uac01 \uc0ac\uac01\ud615","negative mask type square":"\uc0ac\uac01\ud615","negative mask type diamond":"\ub9c8\ub984\ubaa8","display language":"\ud45c\uc2dc \uc5b8\uc5b4","close modal":"\ub2eb\uae30"}')},55:function(e){e.exports=JSON.parse('{"stroke type":"\u7b14\u753b\u79cd\u7c7b","stroke type 1":"\u76f4\u7ebf","stroke type 2":"\u66f2\u7ebf","stroke type 3":"\u6298\u7ebf","stroke type 4":"\u6298\u5f2f","stroke type 6":"\u590d\u66f2\u7ebf","stroke type 7":"\u7ad6\u6487","head type":"\u8d77\u7b14\u5f62\u72b6","head type 1-0":"\u5f00\u653e","head type 1-2":"\u8fde\u63a5(\u6a2a)","head type 1-32":"\u8fde\u63a5(\u7eb5)","head type 1-12":"\u5de6\u4e0a\u89d2","head type 1-22":"\u53f3\u4e0a\u89d2","head type 2-0":"\u5f00\u653e","head type 2-32":"\u8fde\u63a5","head type 2-12":"\u5de6\u4e0a\u89d2","head type 2-22":"\u53f3\u4e0a\u89d2","head type 2-7":"\u5c16\u9510","head type 2-27":"\u6a2a\u637a\u89d2","head type 3-0":"\u5f00\u653e","head type 3-32":"\u8fde\u63a5(\u7eb5)","head type 3-12":"\u5de6\u4e0a\u89d2","head type 3-22":"\u53f3\u4e0a\u89d2","head type 4-0":"\u5f00\u653e","head type 4-22":"\u53f3\u4e0a\u89d2","head type 6-0":"\u5f00\u653e","head type 6-32":"\u8fde\u63a5","head type 6-12":"\u5de6\u4e0a\u89d2","head type 6-22":"\u53f3\u4e0a\u89d2","head type 6-7":"\u5c16\u9510","head type 6-27":"\u6a2a\u637a\u89d2","head type 7-0":"\u5f00\u653e","head type 7-32":"\u8fde\u63a5","head type 7-12":"\u5de6\u4e0a\u89d2","head type 7-22":"\u53f3\u4e0a\u89d2","tail type":"\u6536\u7b14\u5f62\u72b6","tail type 1-0":"\u5f00\u653e","tail type 1-2":"\u8fde\u63a5(\u6a2a)","tail type 1-32":"\u8fde\u63a5(\u7eb5)","tail type 1-13":"\u5de6\u4e0b\u89d2","tail type 1-23":"\u53f3\u4e0b\u89d2","tail type 1-4":"\u5de6\u94a9","tail type 1-313":"\u7ad6\u6298(\u65e7\u5b57\u5f62)","tail type 1-413":"\u7ad6\u6298(\u65b0\u5b57\u5f62)","tail type 1-24":"\u53f3\u4e0b\u89d2(\u6e2f\u53f0\u5b57\u5f62)","tail type 2-7":"\u6487","tail type 2-0":"\u637a","tail type 2-8":"\u5706\u5c3e","tail type 2-4":"\u5de6\u94a9","tail type 2-5":"\u53f3\u94a9","tail type 3-0":"\u5f00\u653e","tail type 3-5":"\u4e0a\u94a9","tail type 4-0":"\u5f00\u653e","tail type 4-5":"\u4e0a\u94a9","tail type 6-7":"\u6487","tail type 6-0":"\u637a","tail type 6-8":"\u5706\u5c3e","tail type 6-4":"\u5de6\u94a9","tail type 6-5":"\u53f3\u94a9","tail type 7-7":"\u6487","invalid stroke shape types":"\u9519\u8bef\uff1a\u6b64\u7b14\u753b\u6216\u5f62\u72b6\u7ec4\u5408\u4e0d\u53ef\u80fd\u51fa\u73b0","part":"\u90e8\u4ef6","alias of":"({{entity}} \u7684\u522b\u540d)","stretch":"\u4f38\u7f29\uff1a","operation type reflectX":"\u5de6\u53f3\u53cd\u8f6c","operation type reflectY":"\u4e0a\u4e0b\u53cd\u8f6c","operation type rotate90":"\u987a\u65f6\u9488\u65cb\u8f6c90\u5ea6","operation type rotate180":"\u987a\u65f6\u9488\u65cb\u8f6c180\u5ea6","operation type rotate270":"\u987a\u65f6\u9488\u65cb\u8f6c270\u5ea6","selecting multiple strokes":"\u5df2\u9009\u53d6\u591a\u4e2a\u7b14\u753b","select prev":"\u2190","swap with prev":"\u8c03\u6362\u2190","select next":"\u2192","swap with next":"\u2192\u8c03\u6362","undo":"\u64a4\u9500","redo":"\u91cd\u505a","select all":"\u5168\u9009","invert selection":"\u53cd\u9009","copy":"\u590d\u5236","paste":"\u7c98\u8d34","cut":"\u526a\u5207","start freehand":"\u5f00\u59cb\u624b\u5199","end freehand":"\u7ed3\u675f\u624b\u5199","decompose":"\u62c6\u89e3\u90e8\u4ef6","options":"\u8bbe\u7f6e...","finish edit":"\u7f16\u8f91\u5b8c\u6bd5","search":"\u641c\u7d22","searching":"\u641c\u7d22\u4e2d","search error":"\u9519\u8bef:{{message}}","search query too short":"\u9519\u8bef:\u5173\u952e\u8bcd\u8fc7\u77ed","no search result":"\u67e5\u65e0\u7ed3\u679c","grid option":"\u7f51\u683c\u7ebf","enable grid":"\u542f\u7528\u7f51\u683c","grid origin x":"\u521d\u59cb\u503cX","grid origin y":"\u521d\u59cb\u503cY","grid spacing x":"\u95f4\u9694X","grid spacing y":"\u95f4\u9694Y","glyph font style":"\u5b57\u4f53\u98ce\u683c","mincho style":"\u5b8b\u4f53","gothic style":"\u9ed1\u4f53","show stroke center line":"\u7b14\u753b\u4e2d\u7ebf","show stroke center line none":"\u9690\u85cf","show stroke center line selection":"\u53ea\u663e\u793a\u9009\u53d6\u7b14\u753b","show stroke center line always":"\u59cb\u7ec8\u663e\u793a","negative mask type":"\u8499\u677f","negative mask type none":"\u65e0","negative mask type circle":"\u5706\u5f62","negative mask type squareWithRoundedCorners":"\u5706\u89d2\u77e9\u5f62","negative mask type square":"\u77e9\u5f62","negative mask type diamond":"\u83f1\u5f62","display language":"\u754c\u9762\u8bed\u8a00","close modal":"\u5173\u95ed"}')},56:function(e){e.exports=JSON.parse('{"stroke type":"\u7b46\u5283\u7a2e\u985e","stroke type 1":"\u76f4\u7dda","stroke type 2":"\u66f2\u7dda","stroke type 3":"\u6298\u7dda","stroke type 4":"\u6298\u5f4e","stroke type 6":"\u8907\u66f2\u7dda","stroke type 7":"\u8c4e\u6487","head type":"\u8d77\u7b46\u5f62\u72b6","head type 1-0":"\u958b\u653e","head type 1-2":"\u9023\u63a5(\u6a6b)","head type 1-32":"\u9023\u63a5(\u7e31)","head type 1-12":"\u5de6\u4e0a\u89d2","head type 1-22":"\u53f3\u4e0a\u89d2","head type 2-0":"\u958b\u653e","head type 2-32":"\u9023\u63a5","head type 2-12":"\u5de6\u4e0a\u89d2","head type 2-22":"\u53f3\u4e0a\u89d2","head type 2-7":"\u5c16\u92b3","head type 2-27":"\u6a6b\u637a\u89d2","head type 3-0":"\u958b\u653e","head type 3-32":"\u9023\u63a5(\u7e31)","head type 3-12":"\u5de6\u4e0a\u89d2","head type 3-22":"\u53f3\u4e0a\u89d2","head type 4-0":"\u958b\u653e","head type 4-22":"\u53f3\u4e0a\u89d2","head type 6-0":"\u958b\u653e","head type 6-32":"\u9023\u63a5","head type 6-12":"\u5de6\u4e0a\u89d2","head type 6-22":"\u53f3\u4e0a\u89d2","head type 6-7":"\u5c16\u92b3","head type 6-27":"\u6a6b\u637a\u89d2","head type 7-0":"\u958b\u653e","head type 7-32":"\u9023\u63a5","head type 7-12":"\u5de6\u4e0a\u89d2","head type 7-22":"\u53f3\u4e0a\u89d2","tail type":"\u6536\u7b46\u5f62\u72b6","tail type 1-0":"\u958b\u653e","tail type 1-2":"\u9023\u63a5(\u6a6b)","tail type 1-32":"\u9023\u63a5(\u7e31)","tail type 1-13":"\u5de6\u4e0b\u89d2","tail type 1-23":"\u53f3\u4e0b\u89d2","tail type 1-4":"\u5de6\u9264","tail type 1-313":"\u8c4e\u6298(\u820a\u5b57\u5f62)","tail type 1-413":"\u8c4e\u6298(\u5927\u9678\u65b0\u5b57\u5f62)","tail type 1-24":"\u53f3\u4e0b\u89d2(\u6e2f\u53f0\u5b57\u5f62)","tail type 2-7":"\u6487","tail type 2-0":"\u637a","tail type 2-8":"\u5713\u5c3e","tail type 2-4":"\u5de6\u9264","tail type 2-5":"\u53f3\u9264","tail type 3-0":"\u958b\u653e","tail type 3-5":"\u4e0a\u9264","tail type 4-0":"\u958b\u653e","tail type 4-5":"\u4e0a\u9264","tail type 6-7":"\u6487","tail type 6-0":"\u637a","tail type 6-8":"\u5713\u5c3e","tail type 6-4":"\u5de6\u9264","tail type 6-5":"\u53f3\u9264","tail type 7-7":"\u6487","invalid stroke shape types":"\u932f\u8aa4\uff1a\u6b64\u7b46\u756b\u6216\u5f62\u72c0\u7d44\u5408\u4e0d\u53ef\u80fd\u51fa\u73fe","part":"\u90e8\u4ef6","alias of":"({{entity}} \u7684\u5225\u540d)","stretch":"\u4f38\u7e2e\uff1a","operation type reflectX":"\u5de6\u53f3\u53cd\u8f49","operation type reflectY":"\u4e0a\u4e0b\u53cd\u8f49","operation type rotate90":"\u9806\u6642\u91dd\u65cb\u8f4990\u5ea6","operation type rotate180":"\u9806\u6642\u91dd\u65cb\u8f49180\u5ea6","operation type rotate270":"\u9806\u6642\u91dd\u65cb\u8f49270\u5ea6","selecting multiple strokes":"\u5df2\u9078\u53d6\u591a\u500b\u7b46\u5283","select prev":"\u2190","swap with prev":"\u8abf\u63db\u2190","select next":"\u2192","swap with next":"\u2192\u8abf\u63db","undo":"\u5fa9\u539f","redo":"\u91cd\u505a","select all":"\u5168\u90e8\u9078\u53d6","invert selection":"\u53cd\u5411\u9078\u53d6","copy":"\u62f7\u8c9d","paste":"\u8cbc\u4e0a","cut":"\u526a\u4e0b","start freehand":"\u958b\u59cb\u624b\u5beb","end freehand":"\u7d50\u675f\u624b\u5beb","decompose":"\u62c6\u89e3\u90e8\u4ef6","options":"\u8a2d\u5b9a...","finish edit":"\u7de8\u8f2f\u5b8c\u7562","search":"\u6aa2\u7d22","searching":"\u6aa2\u7d22\u4e2d","search error":"\u932f\u8aa4:{{message}}","search query too short":"\u932f\u8aa4:\u95dc\u9375\u5b57\u904e\u77ed","no search result":"\u67e5\u7121\u7d50\u679c","grid option":"\u7db2\u683c\u7dda","enable grid":"\u5553\u7528\u7db2\u683c","grid origin x":"\u521d\u59cb\u503cX","grid origin y":"\u521d\u59cb\u503cY","grid spacing x":"\u9593\u9694X","grid spacing y":"\u9593\u9694Y","glyph font style":"\u5b57\u578b\u98a8\u683c","mincho style":"\u660e\u9ad4","gothic style":"\u9ed1\u9ad4","show stroke center line":"\u7b46\u5283\u4e2d\u7dda","show stroke center line none":"\u96b1\u85cf","show stroke center line selection":"\u53ea\u986f\u793a\u9078\u53d6\u7b46\u5283","show stroke center line always":"\u59cb\u7d42\u986f\u793a","negative mask type":"\u906e\u7f69","negative mask type none":"\u7121","negative mask type circle":"\u5713\u5f62","negative mask type squareWithRoundedCorners":"\u5713\u89d2\u77e9\u5f62","negative mask type square":"\u77e9\u5f62","negative mask type diamond":"\u83f1\u5f62","display language":"\u4ecb\u9762\u8a9e\u8a00","close modal":"\u95dc\u9589"}')},84:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.1ce936c1.chunk.js.map